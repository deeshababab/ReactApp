{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactNativeAnimatable = require(\"react-native-animatable\");\n\nvar _blur = require(\"@react-native-community/blur\");\n\nvar _commons = require(\"../../commons\");\n\nvar _style = require(\"../../style\");\n\nvar _assets = _interopRequireDefault(require(\"../../assets\"));\n\nvar _view = _interopRequireDefault(require(\"../view\"));\n\nvar _button = _interopRequireDefault(require(\"../button\"));\n\nvar _image = _interopRequireDefault(require(\"../image\"));\n\nvar _jsxFileName = \"E:\\\\react-native-starter-master\\\\react-native-starter-master\\\\node_modules\\\\react-native-ui-lib\\\\src\\\\components\\\\toast\\\\index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar DURATION = 300;\nvar DELAY = 100;\nvar ANIMATION_SUFFIX = 'toast';\n\nvar Toast = function (_BaseComponent) {\n  (0, _inherits2.default)(Toast, _BaseComponent);\n\n  var _super = _createSuper(Toast);\n\n  function Toast(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, Toast);\n    _this = _super.call(this, props);\n\n    _this.onDismiss = function (timer) {\n      if (timer) {\n        clearTimeout(timer);\n      }\n\n      _lodash.default.invoke(_this.props, 'onDismiss');\n    };\n\n    var animated = _this.props.animated;\n    _this.state = {\n      isVisible: false,\n      animationConfig: animated ? _this.getAnimation(true) : {},\n      contentAnimation: animated ? _this.getContentAnimation(true) : {},\n      duration: DURATION,\n      delay: DELAY\n    };\n\n    if (animated) {\n      _style.AnimatableManager.loadSlideByHeightDefinitions(getHeight(_this.props), ANIMATION_SUFFIX);\n    }\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(Toast, [{\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      var visible = nextProps.visible,\n          animated = nextProps.animated;\n      var isVisible = this.state.isVisible;\n\n      if (visible !== isVisible) {\n        if (animated) {\n          _style.AnimatableManager.loadSlideByHeightDefinitions(getHeight(this.props), ANIMATION_SUFFIX);\n        }\n\n        var newState = animated ? {\n          animationConfig: this.getAnimation(visible),\n          contentAnimation: this.getContentAnimation(visible)\n        } : {\n          animationConfig: {},\n          contentAnimation: {}\n        };\n        this.setState(newState);\n      }\n    }\n  }, {\n    key: \"generateStyles\",\n    value: function generateStyles() {\n      this.styles = createStyles(this.props);\n    }\n  }, {\n    key: \"getPositionStyle\",\n    value: function getPositionStyle() {\n      var position = this.props.position;\n      return position === 'relative' ? {\n        position: position\n      } : getAbsolutePositionStyle(position);\n    }\n  }, {\n    key: \"getAnimation\",\n    value: function getAnimation(shouldShow) {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          position = _this$props.position,\n          useNativeDriver = _this$props.useNativeDriver;\n      var animationDescriptor = getAnimationDescriptor(position, this.state);\n\n      var _ref = shouldShow ? animationDescriptor.enter : animationDescriptor.exit,\n          animation = _ref.animation,\n          duration = _ref.duration,\n          delay = _ref.delay;\n\n      return {\n        animation: animation,\n        duration: duration,\n        delay: delay,\n        useNativeDriver: useNativeDriver,\n        onAnimationEnd: function onAnimationEnd() {\n          return _this2.onAnimationEnd();\n        }\n      };\n    }\n  }, {\n    key: \"getContentAnimation\",\n    value: function getContentAnimation(shouldShow) {\n      var _this3 = this;\n\n      var position = this.props.position;\n      var _this$state = this.state,\n          duration = _this$state.duration,\n          delay = _this$state.delay;\n\n      if (position === 'relative') {\n        return {\n          animation: shouldShow ? 'fadeIn' : 'fadeOut',\n          duration: duration,\n          delay: shouldShow ? delay : 0,\n          onAnimationEnd: function onAnimationEnd() {\n            return _this3.onAnimationEnd();\n          }\n        };\n      }\n    }\n  }, {\n    key: \"getBlurOptions\",\n    value: function getBlurOptions() {\n      var _this$getThemeProps = this.getThemeProps(),\n          blurOptions = _this$getThemeProps.blurOptions;\n\n      return _objectSpread({\n        blurType: 'light',\n        amount: 5\n      }, blurOptions);\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      var _this$getThemeProps2 = this.getThemeProps(),\n          actions = _this$getThemeProps2.actions,\n          allowDismiss = _this$getThemeProps2.allowDismiss,\n          renderContent = _this$getThemeProps2.renderContent,\n          icon = _this$getThemeProps2.icon,\n          color = _this$getThemeProps2.color;\n\n      if (_lodash.default.isFunction(renderContent)) {\n        return renderContent(this.props);\n      }\n\n      var hasOneAction = _lodash.default.size(actions) === 1;\n      var hasTwoActions = _lodash.default.size(actions) === 2;\n      var height = getHeight(this.props);\n      return _react.default.createElement(_view.default, {\n        row: !hasTwoActions,\n        height: height,\n        centerV: true,\n        spread: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 7\n        }\n      }, icon && _react.default.createElement(_view.default, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }\n      }, _react.default.createElement(_image.default, {\n        source: icon,\n        resizeMode: 'contain',\n        style: this.styles.icon,\n        tintColor: color,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }\n      })), this.renderMessage(), (hasOneAction || allowDismiss) && _react.default.createElement(_view.default, {\n        row: true,\n        height: \"100%\",\n        \"marginL-8\": true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }\n      }, hasOneAction && this.renderOneAction(), this.renderDismissButton()), hasTwoActions && this.renderTwoActions());\n    }\n  }, {\n    key: \"renderMessage\",\n    value: function renderMessage() {\n      var _this$props2 = this.props,\n          message = _this$props2.message,\n          messageStyle = _this$props2.messageStyle,\n          centerMessage = _this$props2.centerMessage,\n          color = _this$props2.color;\n      var contentAnimation = this.state.contentAnimation;\n      return _react.default.createElement(_view.default, {\n        flex: true,\n        centerH: centerMessage,\n        centerV: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 7\n        }\n      }, _react.default.createElement(_reactNativeAnimatable.Text, (0, _extends2.default)({\n        style: [this.styles.message, color && {\n          color: color\n        }, messageStyle]\n      }, contentAnimation, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 9\n        }\n      }), message));\n    }\n  }, {\n    key: \"renderOneAction\",\n    value: function renderOneAction() {\n      var action = _lodash.default.first(this.props.actions);\n\n      var contentAnimation = this.state.contentAnimation;\n\n      if (action) {\n        return _react.default.createElement(_reactNativeAnimatable.View, (0, _extends2.default)({}, contentAnimation, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 9\n          }\n        }), _react.default.createElement(_button.default, (0, _extends2.default)({\n          size: \"medium\",\n          style: this.styles.oneActionStyle,\n          backgroundColor: _style.Colors.rgba(_style.ThemeManager.primaryColor, 0.7)\n        }, action, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 11\n          }\n        })));\n      }\n    }\n  }, {\n    key: \"renderTwoActions\",\n    value: function renderTwoActions() {\n      var _this$props3 = this.props,\n          actions = _this$props3.actions,\n          backgroundColor = _this$props3.backgroundColor;\n      var contentAnimation = this.state.contentAnimation;\n      return _react.default.createElement(_reactNativeAnimatable.View, (0, _extends2.default)({\n        style: [this.styles.containerWithTwoActions, {\n          backgroundColor: backgroundColor\n        }]\n      }, contentAnimation, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 7\n        }\n      }), _react.default.createElement(_button.default, (0, _extends2.default)({\n        size: \"small\"\n      }, actions[0], {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 9\n        }\n      })), _react.default.createElement(_button.default, (0, _extends2.default)({\n        \"marginL-12\": true,\n        size: \"small\"\n      }, actions[1], {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 9\n        }\n      })));\n    }\n  }, {\n    key: \"renderDismissButton\",\n    value: function renderDismissButton() {\n      var _this$props4 = this.props,\n          allowDismiss = _this$props4.allowDismiss,\n          color = _this$props4.color;\n      var contentAnimation = this.state.contentAnimation;\n\n      if (allowDismiss) {\n        return _react.default.createElement(_reactNativeAnimatable.View, (0, _extends2.default)({\n          style: {\n            justifyContent: 'center'\n          }\n        }, contentAnimation, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 9\n          }\n        }), _react.default.createElement(_button.default, {\n          link: true,\n          iconStyle: [this.styles.dismissIconStyle, color && {\n            tintColor: color\n          }],\n          iconSource: _assets.default.icons.x,\n          onPress: this.onDismiss,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 11\n          }\n        }));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$getThemeProps3 = this.getThemeProps(),\n          backgroundColor = _this$getThemeProps3.backgroundColor,\n          actions = _this$getThemeProps3.actions,\n          enableBlur = _this$getThemeProps3.enableBlur,\n          testID = _this$getThemeProps3.testID,\n          zIndex = _this$getThemeProps3.zIndex,\n          renderContent = _this$getThemeProps3.renderContent;\n\n      var animationConfig = this.state.animationConfig;\n      var hasOneAction = _lodash.default.size(actions) === 1;\n      var hasTwoActions = _lodash.default.size(actions) === 2;\n      var positionStyle = this.getPositionStyle();\n      var height = getHeight(this.props);\n      var blurOptions = this.getBlurOptions();\n      var shouldShowToast = this.shouldShowToast();\n\n      if (!shouldShowToast) {\n        return null;\n      }\n\n      return _react.default.createElement(_view.default, {\n        style: [positionStyle],\n        useSafeArea: true,\n        testID: testID,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 7\n        }\n      }, _react.default.createElement(_view.default, {\n        height: height,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 9\n        }\n      }), _react.default.createElement(_reactNativeAnimatable.View, (0, _extends2.default)({\n        style: [this.styles.container, !renderContent && !hasTwoActions && {\n          paddingHorizontal: 20\n        }, backgroundColor && {\n          backgroundColor: backgroundColor\n        }, hasOneAction && this.styles.containerWithOneAction, {\n          zIndex: zIndex\n        }]\n      }, animationConfig, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 9\n        }\n      }), enableBlur && _react.default.createElement(_blur.BlurView, (0, _extends2.default)({\n        style: this.styles.blurView\n      }, blurOptions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 26\n        }\n      })), this.renderContent()));\n    }\n  }, {\n    key: \"shouldShowToast\",\n    value: function shouldShowToast() {\n      var visible = this.props.visible;\n      var isVisible = this.state.isVisible;\n      return isVisible || visible && !isVisible;\n    }\n  }, {\n    key: \"onAnimationEnd\",\n    value: function onAnimationEnd() {\n      var visible = this.props.visible;\n      this.setState({\n        isVisible: visible\n      });\n      this.setDismissTimer();\n\n      _lodash.default.invoke(this.props, 'onAnimationEnd', visible);\n    }\n  }, {\n    key: \"setDismissTimer\",\n    value: function setDismissTimer() {\n      var _this4 = this;\n\n      var _this$props5 = this.props,\n          autoDismiss = _this$props5.autoDismiss,\n          onDismiss = _this$props5.onDismiss;\n\n      if (autoDismiss && onDismiss) {\n        var timer = setTimeout(function () {\n          _this4.onDismiss(timer);\n        }, autoDismiss);\n      }\n    }\n  }]);\n  return Toast;\n}(_commons.BaseComponent);\n\nexports.default = Toast;\nToast.displayName = 'Toast';\nToast.propTypes = {\n  visible: _propTypes.default.bool,\n  position: _propTypes.default.oneOf(['relative', 'top', 'bottom']),\n  height: _propTypes.default.number,\n  backgroundColor: _propTypes.default.string,\n  color: _propTypes.default.string,\n  message: _propTypes.default.string,\n  messageStyle: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.number, _propTypes.default.array]),\n  icon: _propTypes.default.number,\n  actions: _propTypes.default.arrayOf(_propTypes.default.shape(_button.default.propTypes)),\n  onDismiss: _propTypes.default.func,\n  autoDismiss: _propTypes.default.number,\n  allowDismiss: _propTypes.default.bool,\n  onAnimationEnd: _propTypes.default.func,\n  renderContent: _propTypes.default.func,\n  centerMessage: _propTypes.default.bool,\n  animated: _propTypes.default.bool,\n  enableBlur: _propTypes.default.bool,\n  blurOptions: _propTypes.default.object,\n  zIndex: _propTypes.default.number\n};\nToast.defaultProps = {\n  position: 'top',\n  color: _style.Colors.white,\n  animated: true,\n  zIndex: 100\n};\n\nfunction createStyles() {\n  return _reactNative.StyleSheet.create({\n    container: _objectSpread(_objectSpread({}, _reactNative.StyleSheet.absoluteFillObject), {}, {\n      backgroundColor: _style.Colors.rgba(_style.ThemeManager.primaryColor, 0.8)\n    }),\n    containerWithOneAction: {\n      paddingRight: 0\n    },\n    containerWithTwoActions: {\n      flexDirection: 'row',\n      justifyContent: 'center',\n      alignItems: 'center',\n      paddingBottom: 14\n    },\n    message: _objectSpread({\n      color: _style.Colors.white\n    }, _style.Typography.text80),\n    oneActionStyle: {\n      borderRadius: _style.BorderRadiuses.br0,\n      minWidth: undefined,\n      height: '100%'\n    },\n    dismissIconStyle: {\n      width: 12,\n      height: 12,\n      tintColor: _style.Colors.white\n    },\n    blurView: _objectSpread({}, _reactNative.StyleSheet.absoluteFillObject),\n    icon: {\n      flex: 1,\n      width: 24,\n      height: 24,\n      marginRight: 16\n    }\n  });\n}\n\nfunction getAnimationDescriptor(name, _ref2) {\n  var _ref2$duration = _ref2.duration,\n      duration = _ref2$duration === void 0 ? DURATION : _ref2$duration,\n      _ref2$delay = _ref2.delay,\n      delay = _ref2$delay === void 0 ? DELAY : _ref2$delay;\n  var defaultProps = {\n    duration: duration,\n    delay: 0\n  };\n  var animationDescriptorMap = {\n    top: {\n      enter: _objectSpread(_objectSpread({}, defaultProps), {}, {\n        animation: _style.AnimatableManager.animations.slideInDown_toast\n      }),\n      exit: _objectSpread(_objectSpread({}, defaultProps), {}, {\n        animation: _style.AnimatableManager.animations.slideOutUp_toast\n      })\n    },\n    bottom: {\n      enter: _objectSpread(_objectSpread({}, defaultProps), {}, {\n        animation: _style.AnimatableManager.animations.slideInUp_toast\n      }),\n      exit: _objectSpread(_objectSpread({}, defaultProps), {}, {\n        animation: _style.AnimatableManager.animations.slideOutDown_toast\n      })\n    },\n    relative: {\n      enter: _objectSpread(_objectSpread({}, defaultProps), {}, {\n        animation: _style.AnimatableManager.animations.slideIn_toast\n      }),\n      exit: _objectSpread(_objectSpread({}, defaultProps), {}, {\n        animation: _style.AnimatableManager.animations.slideOut_toast,\n        delay: delay\n      })\n    }\n  };\n  return animationDescriptorMap[name] || {};\n}\n\nfunction getAbsolutePositionStyle(location) {\n  return (0, _defineProperty2.default)({\n    position: 'absolute',\n    left: 0,\n    right: 0\n  }, location, 0);\n}\n\nfunction getHeight(_ref4) {\n  var height = _ref4.height,\n      actions = _ref4.actions;\n\n  if (_lodash.default.isUndefined(height)) {\n    return _lodash.default.size(actions) === 2 ? 92 : 48;\n  }\n\n  return height;\n}","map":{"version":3,"sources":["E:/react-native-starter-master/react-native-starter-master/node_modules/react-native-ui-lib/src/components/toast/index.js"],"names":["DURATION","DELAY","ANIMATION_SUFFIX","Toast","props","onDismiss","timer","clearTimeout","_","invoke","animated","state","isVisible","animationConfig","getAnimation","contentAnimation","getContentAnimation","duration","delay","AnimatableManager","loadSlideByHeightDefinitions","getHeight","nextProps","visible","newState","setState","styles","createStyles","position","getAbsolutePositionStyle","shouldShow","useNativeDriver","animationDescriptor","getAnimationDescriptor","enter","exit","animation","onAnimationEnd","getThemeProps","blurOptions","blurType","amount","actions","allowDismiss","renderContent","icon","color","isFunction","hasOneAction","size","hasTwoActions","height","renderMessage","renderOneAction","renderDismissButton","renderTwoActions","message","messageStyle","centerMessage","action","first","oneActionStyle","Colors","rgba","ThemeManager","primaryColor","backgroundColor","containerWithTwoActions","justifyContent","dismissIconStyle","tintColor","Assets","icons","x","enableBlur","testID","zIndex","positionStyle","getPositionStyle","getBlurOptions","shouldShowToast","container","paddingHorizontal","containerWithOneAction","blurView","setDismissTimer","autoDismiss","setTimeout","BaseComponent","displayName","propTypes","PropTypes","bool","oneOf","number","string","oneOfType","object","array","arrayOf","shape","Button","func","defaultProps","white","StyleSheet","create","absoluteFillObject","paddingRight","flexDirection","alignItems","paddingBottom","Typography","text80","borderRadius","BorderRadiuses","br0","minWidth","undefined","width","flex","marginRight","name","animationDescriptorMap","top","animations","slideInDown_toast","slideOutUp_toast","bottom","slideInUp_toast","slideOutDown_toast","relative","slideIn_toast","slideOut_toast","location","left","right","isUndefined"],"mappings":"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","sourcesContent":["import _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {StyleSheet} from 'react-native';\nimport {View as AnimatableView, Text as AnimatableText} from 'react-native-animatable';\nimport {BlurView} from '@react-native-community/blur';\nimport {BaseComponent} from '../../commons';\nimport {AnimatableManager, ThemeManager, Colors, Typography, BorderRadiuses} from '../../style';\nimport Assets from '../../assets';\nimport View from '../view';\nimport Button from '../button';\nimport Image from '../image';\n\nconst DURATION = 300;\nconst DELAY = 100;\nconst ANIMATION_SUFFIX = 'toast';\n\n/**\n * @description Toast component for showing a feedback about a user action.\n * @extends: Animatable.View\n * @extendslink: https://github.com/oblador/react-native-animatable\n * @gif: https://media.giphy.com/media/3oFzm1pKqGXybiDUre/giphy.gif\n * @example: https://github.com/wix/react-native-ui-lib/blob/master/demo/src/screens/componentScreens/ToastsScreen.js\n */\nexport default class Toast extends BaseComponent {\n  static displayName = 'Toast';\n  static propTypes = {\n    /**\n     * Whether to show or hide the toast\n     */\n    visible: PropTypes.bool,\n    /**\n     * The position of the toast. top or bottom\n     */\n    position: PropTypes.oneOf(['relative', 'top', 'bottom']),\n    /**\n     * The height of the toast\n     */\n    height: PropTypes.number,\n    /**\n     * The background color of the toast\n     */\n    backgroundColor: PropTypes.string,\n    /**\n     * the toast content color (message, actions labels)\n     */\n    color: PropTypes.string,\n    /**\n     * the toast message\n     */\n    message: PropTypes.string,\n    /**\n     * a custom style for the toast message\n     */\n    messageStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.array]),\n    /**\n     * a left icon\n     */\n    icon: PropTypes.number,\n    /**\n     * one or two actions for the user to display in the toast\n     */\n    actions: PropTypes.arrayOf(PropTypes.shape(Button.propTypes)),\n    /**\n     * callback for dismiss action\n     */\n    onDismiss: PropTypes.func,\n    /**\n     * number of milliseconds to automatically invoke the onDismiss callback\n     */\n    autoDismiss: PropTypes.number,\n    /**\n     * show dismiss action\n     */\n    allowDismiss: PropTypes.bool,\n    /**\n     * callback for end of component animation\n     */\n    onAnimationEnd: PropTypes.func,\n    /**\n     * render a custom toast content (better use with StyleSheet.absoluteFillObject to support safe area)\n     */\n    renderContent: PropTypes.func,\n    /**\n     * should message be centered in the toast\n     */\n    centerMessage: PropTypes.bool,\n    /**\n     * should the toast appear/disappear with animation\n     */\n    animated: PropTypes.bool,\n    /**\n     * enable blur effect for Toast\n     */\n    enableBlur: PropTypes.bool,\n    /**\n     * blur option for blur effect according to @react-native-community/blur lib (make sure enableBlur is on)\n     */\n    blurOptions: PropTypes.object,\n    /**\n     * custom zIndex for toast\n     */\n    zIndex: PropTypes.number\n  };\n\n  static defaultProps = {\n    position: 'top',\n    color: Colors.white,\n    animated: true,\n    zIndex: 100\n  };\n\n  constructor(props) {\n    super(props);\n\n    const {animated} = this.props;\n\n    this.state = {\n      isVisible: false,\n      animationConfig: animated ? this.getAnimation(true) : {},\n      contentAnimation: animated ? this.getContentAnimation(true) : {},\n      duration: DURATION,\n      delay: DELAY\n    };\n\n    if (animated) {\n      AnimatableManager.loadSlideByHeightDefinitions(getHeight(this.props), ANIMATION_SUFFIX);\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const {visible, animated} = nextProps;\n    const {isVisible} = this.state;\n    if (visible !== isVisible) {\n      if (animated) {\n        AnimatableManager.loadSlideByHeightDefinitions(getHeight(this.props), ANIMATION_SUFFIX);\n      }\n\n      const newState = animated\n        ? {\n          animationConfig: this.getAnimation(visible),\n          contentAnimation: this.getContentAnimation(visible)\n        }\n        : {\n          animationConfig: {},\n          contentAnimation: {}\n        };\n      this.setState(newState);\n    }\n  }\n\n  generateStyles() {\n    this.styles = createStyles(this.props);\n  }\n\n  getPositionStyle() {\n    const {position} = this.props;\n\n    return position === 'relative' ? {position} : getAbsolutePositionStyle(position);\n  }\n\n  getAnimation(shouldShow) {\n    const {position, useNativeDriver} = this.props;\n    const animationDescriptor = getAnimationDescriptor(position, this.state);\n    const {animation, duration, delay} = shouldShow ? animationDescriptor.enter : animationDescriptor.exit;\n\n    return {animation, duration, delay, useNativeDriver, onAnimationEnd: () => this.onAnimationEnd()};\n  }\n\n  getContentAnimation(shouldShow) {\n    const {position} = this.props;\n    const {duration, delay} = this.state;\n\n    if (position === 'relative') {\n      return {\n        animation: shouldShow ? 'fadeIn' : 'fadeOut',\n        duration,\n        delay: shouldShow ? delay : 0,\n        onAnimationEnd: () => this.onAnimationEnd()\n      };\n    }\n  }\n\n  getBlurOptions() {\n    const {blurOptions} = this.getThemeProps();\n\n    return {\n      blurType: 'light',\n      amount: 5,\n      ...blurOptions\n    };\n  }\n\n  renderContent() {\n    const {actions, allowDismiss, renderContent, icon, color} = this.getThemeProps();\n\n    if (_.isFunction(renderContent)) {\n      return renderContent(this.props);\n    }\n\n    const hasOneAction = _.size(actions) === 1;\n    const hasTwoActions = _.size(actions) === 2;\n    const height = getHeight(this.props);\n\n    return (\n      <View row={!hasTwoActions} height={height} centerV spread>\n        {icon && (\n          <View>\n            <Image source={icon} resizeMode={'contain'} style={this.styles.icon} tintColor={color}/>\n          </View>\n        )}\n        {this.renderMessage()}\n        {(hasOneAction || allowDismiss) && (\n          <View row height=\"100%\" marginL-8>\n            {hasOneAction && this.renderOneAction()}\n            {this.renderDismissButton()}\n          </View>\n        )}\n        {hasTwoActions && this.renderTwoActions()}\n      </View>\n    );\n  }\n\n  renderMessage() {\n    const {message, messageStyle, centerMessage, color} = this.props;\n    const {contentAnimation} = this.state;\n    return (\n      <View flex centerH={centerMessage} centerV>\n        <AnimatableText style={[this.styles.message, color && {color}, messageStyle]} {...contentAnimation}>\n          {message}\n        </AnimatableText>\n      </View>\n    );\n  }\n\n  renderOneAction() {\n    const action = _.first(this.props.actions);\n    const {contentAnimation} = this.state;\n\n    if (action) {\n      return (\n        <AnimatableView {...contentAnimation}>\n          <Button\n            size=\"medium\"\n            style={this.styles.oneActionStyle}\n            backgroundColor={Colors.rgba(ThemeManager.primaryColor, 0.7)}\n            {...action}\n          />\n        </AnimatableView>\n      );\n    }\n  }\n\n  renderTwoActions() {\n    const {actions, backgroundColor} = this.props;\n    const {contentAnimation} = this.state;\n\n    return (\n      <AnimatableView style={[this.styles.containerWithTwoActions, {backgroundColor}]} {...contentAnimation}>\n        <Button size=\"small\" {...actions[0]}/>\n        <Button marginL-12 size=\"small\" {...actions[1]}/>\n      </AnimatableView>\n    );\n  }\n\n  renderDismissButton() {\n    const {allowDismiss, color} = this.props;\n    const {contentAnimation} = this.state;\n    if (allowDismiss) {\n      return (\n        <AnimatableView style={{justifyContent: 'center'}} {...contentAnimation}>\n          <Button\n            link\n            iconStyle={[this.styles.dismissIconStyle, color && {tintColor: color}]}\n            iconSource={Assets.icons.x}\n            onPress={this.onDismiss}\n          />\n        </AnimatableView>\n      );\n    }\n  }\n\n  // This weird layout should support iphoneX safe area\n  render() {\n    const {backgroundColor, actions, enableBlur, testID, zIndex, renderContent} = this.getThemeProps();\n    const {animationConfig} = this.state;\n    const hasOneAction = _.size(actions) === 1;\n    const hasTwoActions = _.size(actions) === 2;\n    const positionStyle = this.getPositionStyle();\n    const height = getHeight(this.props);\n    const blurOptions = this.getBlurOptions();\n\n    const shouldShowToast = this.shouldShowToast();\n    if (!shouldShowToast) {\n      return null;\n    }\n\n    return (\n      <View style={[positionStyle]} useSafeArea testID={testID}>\n        <View height={height}/>\n        <AnimatableView\n          style={[\n            this.styles.container,\n            !renderContent && !hasTwoActions && {paddingHorizontal: 20},\n            backgroundColor && {backgroundColor},\n            hasOneAction && this.styles.containerWithOneAction,\n            {zIndex}\n          ]}\n          {...animationConfig}\n        >\n          {enableBlur && <BlurView style={this.styles.blurView} {...blurOptions}/>}\n          {this.renderContent()}\n        </AnimatableView>\n      </View>\n    );\n  }\n\n  shouldShowToast() {\n    const {visible} = this.props;\n    const {isVisible} = this.state;\n    return isVisible || (visible && !isVisible);\n  }\n\n  onAnimationEnd() {\n    const {visible} = this.props;\n    this.setState({\n      isVisible: visible\n    });\n    this.setDismissTimer();\n    _.invoke(this.props, 'onAnimationEnd', visible);\n  }\n\n  setDismissTimer() {\n    const {autoDismiss, onDismiss} = this.props;\n    if (autoDismiss && onDismiss) {\n      const timer = setTimeout(() => {\n        this.onDismiss(timer);\n      }, autoDismiss);\n    }\n  }\n\n  onDismiss = timer => {\n    if (timer) {\n      clearTimeout(timer);\n    }\n    _.invoke(this.props, 'onDismiss');\n  };\n}\n\nfunction createStyles() {\n  return StyleSheet.create({\n    container: {\n      ...StyleSheet.absoluteFillObject,\n      backgroundColor: Colors.rgba(ThemeManager.primaryColor, 0.8)\n    },\n    containerWithOneAction: {\n      paddingRight: 0\n    },\n    containerWithTwoActions: {\n      flexDirection: 'row',\n      justifyContent: 'center',\n      alignItems: 'center',\n      paddingBottom: 14\n    },\n    message: {\n      color: Colors.white,\n      ...Typography.text80\n    },\n    oneActionStyle: {\n      borderRadius: BorderRadiuses.br0,\n      minWidth: undefined,\n      height: '100%'\n    },\n    dismissIconStyle: {\n      width: 12,\n      height: 12,\n      tintColor: Colors.white\n    },\n    blurView: {\n      ...StyleSheet.absoluteFillObject\n    },\n    icon: {\n      flex: 1,\n      width: 24,\n      height: 24,\n      marginRight: 16\n    }\n  });\n}\n\nfunction getAnimationDescriptor(name, {duration = DURATION, delay = DELAY}) {\n  const defaultProps = {duration, delay: 0};\n  const animationDescriptorMap = {\n    top: {\n      enter: {...defaultProps, animation: AnimatableManager.animations.slideInDown_toast},\n      exit: {...defaultProps, animation: AnimatableManager.animations.slideOutUp_toast}\n    },\n    bottom: {\n      enter: {...defaultProps, animation: AnimatableManager.animations.slideInUp_toast},\n      exit: {...defaultProps, animation: AnimatableManager.animations.slideOutDown_toast}\n    },\n    relative: {\n      enter: {...defaultProps, animation: AnimatableManager.animations.slideIn_toast},\n      exit: {...defaultProps, animation: AnimatableManager.animations.slideOut_toast, delay}\n    }\n  };\n  return animationDescriptorMap[name] || {};\n}\n\nfunction getAbsolutePositionStyle(location) {\n  return {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    [location]: 0\n  };\n}\n\nfunction getHeight({height, actions}) {\n  if (_.isUndefined(height)) {\n    return _.size(actions) === 2 ? 92 : 48;\n  }\n  return height;\n}\n"]},"metadata":{},"sourceType":"script"}