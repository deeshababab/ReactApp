{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _reactNativeUiLib = require(\"react-native-ui-lib\");\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _WheelPickerItem = _interopRequireDefault(require(\"./WheelPickerItem\"));\n\nvar _jsxFileName = \"E:\\\\react-native-starter-master\\\\react-native-starter-master\\\\node_modules\\\\react-native-ui-lib\\\\lib\\\\components\\\\WheelPicker\\\\index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar WheelPickerNative = (0, _reactNative.requireNativeComponent)('WheelPicker', null);\n\nvar WheelPicker = function (_Component) {\n  (0, _inherits2.default)(WheelPicker, _Component);\n\n  var _super = _createSuper(WheelPicker);\n\n  function WheelPicker(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, WheelPicker);\n    _this = _super.call(this, props);\n    _this.state = {\n      items: _this.getItems()\n    };\n\n    _this.onLogReceived = function (event) {\n      console[event.LogType](event.TAG, event.text);\n    };\n\n    _this.onValueChange = _this.onValueChange.bind((0, _assertThisInitialized2.default)(_this));\n\n    _this.getItems();\n\n    _reactNative.DeviceEventEmitter.addListener('log', _this.onLogReceived);\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(WheelPicker, [{\n    key: \"onValueChange\",\n    value: function onValueChange(event) {\n      var index = event.nativeEvent.itemIndex;\n      var onValueChange = this.props.onValueChange;\n\n      if (onValueChange) {\n        var items = this.state.items;\n        onValueChange(items[index].value, index);\n      }\n    }\n  }, {\n    key: \"getItems\",\n    value: function getItems() {\n      var items = _lodash.default.map(_react.default.Children.toArray(this.props.children), function (child) {\n        return {\n          value: child.props.value,\n          label: child.props.label\n        };\n      });\n\n      return items;\n    }\n  }, {\n    key: \"getInitialIndex\",\n    value: function getInitialIndex() {\n      var items = this.state.items;\n      var selectedValue = this.props.selectedValue;\n      return _lodash.default.findIndex(items, {\n        value: selectedValue\n      });\n    }\n  }, {\n    key: \"extractLabelsFromItems\",\n    value: function extractLabelsFromItems() {\n      return _lodash.default.map(this.state.items, 'label');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          style = _this$props.style,\n          color = _this$props.color,\n          labelStyle = _this$props.labelStyle,\n          itemHeight = _this$props.itemHeight;\n      var fontSize = labelStyle.fontSize,\n          fontFamily = labelStyle.fontFamily;\n      var labelColor = labelStyle.color;\n      return _react.default.createElement(_reactNative.View, {\n        collapsable: false,\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 7\n        }\n      }, _react.default.createElement(WheelPickerNative, {\n        data: this.extractLabelsFromItems(),\n        initialIndex: this.getInitialIndex(),\n        onChange: this.onValueChange,\n        style: [styles.wheelPicker, style],\n        color: color,\n        labelColor: labelColor || color,\n        fontSize: fontSize,\n        itemHeight: itemHeight,\n        fontFamily: fontFamily,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n  return WheelPicker;\n}(_react.Component);\n\nWheelPicker.displayName = 'WheelPicker';\nWheelPicker.propTypes = {\n  selectedValue: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  onValueChange: _propTypes.default.func,\n  style: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.number]),\n  labelStyle: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.number]),\n  itemHeight: _propTypes.default.number,\n  color: _propTypes.default.string,\n  itemStyle: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.number])\n};\nWheelPicker.defaultProps = {\n  labelStyle: {\n    fontSize: _reactNativeUiLib.Typography.text70.fontSize,\n    fontFamily: _reactNativeUiLib.Typography.text70.fontFamily\n  },\n  color: _reactNativeUiLib.Colors.blue30\n};\n\nvar styles = _reactNative.StyleSheet.create({\n  container: {\n    overflow: 'hidden'\n  },\n  wheelPicker: {\n    width: 200,\n    height: 200\n  }\n});\n\nWheelPicker.Item = _WheelPickerItem.default;\n\nvar _default = _reactNativeUiLib.Constants.isAndroid ? WheelPicker : _reactNative.Picker;\n\nexports.default = _default;","map":{"version":3,"sources":["E:/react-native-starter-master/react-native-starter-master/node_modules/react-native-ui-lib/lib/components/WheelPicker/index.js"],"names":["WheelPickerNative","WheelPicker","props","state","items","getItems","onLogReceived","event","console","LogType","TAG","text","onValueChange","bind","DeviceEventEmitter","addListener","index","nativeEvent","itemIndex","value","_","map","React","Children","toArray","children","child","label","selectedValue","findIndex","style","color","labelStyle","itemHeight","fontSize","fontFamily","labelColor","styles","container","extractLabelsFromItems","getInitialIndex","wheelPicker","Component","displayName","propTypes","PropTypes","oneOfType","string","number","func","object","itemStyle","defaultProps","Typography","text70","Colors","blue30","StyleSheet","create","overflow","width","height","Item","WheelPickerItem","Constants","isAndroid","Picker"],"mappings":"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","sourcesContent":["import {Constants, Typography, Colors} from 'react-native-ui-lib'; //eslint-disable-line\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport {DeviceEventEmitter, requireNativeComponent, Picker, StyleSheet, View} from 'react-native';\nimport WheelPickerItem from './WheelPickerItem';\n\nconst WheelPickerNative = requireNativeComponent('WheelPicker', null);\n\nclass WheelPicker extends Component {\n  static displayName = 'WheelPicker';\n\n  static propTypes = {\n    /**\n     * the current selected value of the picker\n     */\n    selectedValue: PropTypes.oneOfType([PropTypes.string, PropTypes.number]), //eslint-disable-line\n    /**\n     * callback for when a value change\n     */\n    onValueChange: PropTypes.func,\n    /**\n     * pass custom style\n     */\n    style: PropTypes.oneOfType([PropTypes.object, PropTypes.number]),\n    /**\n     * pass custom label style: fontSize, fontFamily, color<br>\n     * Note: label's color will override the text color (hex only)\n     */\n    labelStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number]),\n    /**\n     * The height of the selected item\n     */\n    itemHeight: PropTypes.number,\n    /**\n     * The color of the wheel picker (hex only)\n     */\n    color: PropTypes.string,\n    /**\n     * pass custom style for the picker item\n     */\n    itemStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number]), //eslint-disable-line\n  };\n\n  static defaultProps = {\n    labelStyle: {fontSize: Typography.text70.fontSize, fontFamily: Typography.text70.fontFamily},\n    color: Colors.blue30\n  };\n\n  constructor(props) {\n    super(props);\n    this.onValueChange = this.onValueChange.bind(this); //eslint-disable-line\n    this.getItems();\n    DeviceEventEmitter.addListener('log', this.onLogReceived); // TODO: consider moving to a more generic place (base class?)\n  }\n\n  state = {\n    items: this.getItems(),\n  };\n\n  onLogReceived = (event) => {\n    console[event.LogType](event.TAG, event.text);\n  }\n\n  onValueChange(event) {\n    const index = event.nativeEvent.itemIndex;\n    const {onValueChange} = this.props;\n    if (onValueChange) {\n      const {items} = this.state;\n      onValueChange(items[index].value, index);\n    }\n  }\n\n  getItems() {\n    const items = _.map(React.Children.toArray(this.props.children), child => ({\n      value: child.props.value,\n      label: child.props.label,\n    }));\n    return items;\n  }\n\n  getInitialIndex() {\n    const {items} = this.state;\n    const {selectedValue} = this.props;\n    return _.findIndex(items, {value: selectedValue});\n  }\n\n  extractLabelsFromItems() {\n    return _.map(this.state.items, 'label');\n  }\n\n  render() {\n    const {style, color, labelStyle, itemHeight} = this.props;\n    const {fontSize, fontFamily} = labelStyle;\n    let {color: labelColor} = labelStyle;\n\n    return (\n      <View collapsable={false} style={styles.container} >\n        <WheelPickerNative\n          data={this.extractLabelsFromItems()}\n          initialIndex={this.getInitialIndex()}\n          onChange={this.onValueChange}\n          style={[styles.wheelPicker, style]}\n          color={color}\n          labelColor={labelColor || color}\n          fontSize={fontSize}\n          itemHeight={itemHeight}\n          fontFamily={fontFamily}\n        />\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    overflow: 'hidden',\n  },\n  wheelPicker: {\n    width: 200,\n    height: 200,\n  },\n});\n\nWheelPicker.Item = WheelPickerItem;\n\nexport default (Constants.isAndroid ? WheelPicker : Picker);\n"]},"metadata":{},"sourceType":"script"}