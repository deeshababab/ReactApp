{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _commons = require(\"../../commons\");\n\nvar _TextField = _interopRequireDefault(require(\"../inputs/TextField\"));\n\nvar _nativeComponents = require(\"../../nativeComponents\");\n\nvar _PickerDialog = _interopRequireDefault(require(\"./PickerDialog\"));\n\nvar _touchableOpacity = _interopRequireDefault(require(\"../touchableOpacity\"));\n\nvar _view = _interopRequireDefault(require(\"../view\"));\n\nvar _style = require(\"../../style\");\n\nvar _jsxFileName = \"E:\\\\react-native-starter-master\\\\react-native-starter-master\\\\node_modules\\\\react-native-ui-lib\\\\src\\\\components\\\\picker\\\\NativePicker.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar NativePicker = function (_BaseComponent) {\n  (0, _inherits2.default)(NativePicker, _BaseComponent);\n\n  var _super = _createSuper(NativePicker);\n\n  function NativePicker() {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, NativePicker);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      selectedValue: _this.props.value,\n      items: _this.extractPickerItems(_this.props),\n      showDialog: false\n    };\n\n    _this.onCancel = function () {\n      _this.setState({\n        selectedValue: _this.props.value\n      });\n\n      _this.toggleDialog(false);\n    };\n\n    _this.onDone = function () {\n      var _this$state = _this.state,\n          selectedValue = _this$state.selectedValue,\n          items = _this$state.items;\n\n      _lodash.default.invoke(_this.props, 'onChange', _lodash.default.isUndefined(selectedValue) ? _lodash.default.get(items, '[0].value') : selectedValue);\n\n      _this.toggleDialog(false);\n    };\n\n    _this.onValueChange = function (selectedValue) {\n      _this.setState({\n        selectedValue: selectedValue\n      });\n    };\n\n    _this.toggleDialog = function (showDialog) {\n      _this.setState({\n        showDialog: showDialog\n      });\n    };\n\n    _this.renderPickerDialog = function () {\n      var _this$state2 = _this.state,\n          selectedValue = _this$state2.selectedValue,\n          showDialog = _this$state2.showDialog;\n      return _react.default.createElement(_PickerDialog.default, (0, _extends2.default)({}, _this.getThemeProps(), {\n        visible: showDialog,\n        disablePan: true,\n        onDismiss: _this.onCancel,\n        onValueChange: _this.onValueChange,\n        selectedValue: selectedValue,\n        onDone: _this.onDone,\n        onCancel: _this.onCancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 7\n        }\n      }));\n    };\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(NativePicker, [{\n    key: \"extractPickerItems\",\n    value: function extractPickerItems(props) {\n      var children = props.children,\n          useNativePicker = props.useNativePicker;\n\n      if (useNativePicker) {\n        var items = _react.default.Children.map(children, function (child) {\n          return {\n            value: child.props.value,\n            label: child.props.label\n          };\n        });\n\n        return items;\n      }\n    }\n  }, {\n    key: \"getLabel\",\n    value: function getLabel() {\n      var _this$props = this.props,\n          value = _this$props.value,\n          getLabel = _this$props.getLabel;\n\n      if (_lodash.default.isFunction(getLabel)) {\n        return getLabel(value);\n      }\n\n      var items = this.state.items;\n\n      var selectedItem = _lodash.default.find(items, {\n        value: value\n      });\n\n      return _lodash.default.get(selectedItem, 'label');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          renderPicker = _this$props2.renderPicker,\n          customPickerProps = _this$props2.customPickerProps,\n          testID = _this$props2.testID;\n\n      if (_lodash.default.isFunction(renderPicker)) {\n        var selectedValue = this.state.selectedValue;\n        return _react.default.createElement(_view.default, {\n          left: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 9\n          }\n        }, _react.default.createElement(_touchableOpacity.default, (0, _extends2.default)({}, customPickerProps, {\n          link: true,\n          onPress: function onPress() {\n            return _this2.toggleDialog(true);\n          },\n          testID: testID,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 11\n          }\n        }), renderPicker(selectedValue)), this.renderPickerDialog());\n      }\n\n      var textInputProps = _TextField.default.extractOwnProps(this.props);\n\n      var label = this.getLabel();\n      return _react.default.createElement(_TextField.default, (0, _extends2.default)({\n        color: _style.Colors.dark10\n      }, textInputProps, {\n        value: label,\n        expandable: true,\n        renderExpandable: this.renderPickerDialog,\n        onToggleExpandableModal: this.toggleDialog,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 7\n        }\n      }));\n    }\n  }]);\n  return NativePicker;\n}(_commons.BaseComponent);\n\nNativePicker.Item = _nativeComponents.WheelPicker.Item;\nvar _default = NativePicker;\nexports.default = _default;","map":{"version":3,"sources":["E:/react-native-starter-master/react-native-starter-master/node_modules/react-native-ui-lib/src/components/picker/NativePicker.js"],"names":["NativePicker","state","selectedValue","props","value","items","extractPickerItems","showDialog","onCancel","setState","toggleDialog","onDone","_","invoke","isUndefined","get","onValueChange","renderPickerDialog","getThemeProps","children","useNativePicker","React","Children","map","child","label","getLabel","isFunction","selectedItem","find","renderPicker","customPickerProps","testID","textInputProps","TextField","extractOwnProps","Colors","dark10","BaseComponent","Item","WheelPicker"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;IAEMA,Y;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,aAAa,EAAE,MAAKC,KAAL,CAAWC,KADpB;AAENC,MAAAA,KAAK,EAAE,MAAKC,kBAAL,CAAwB,MAAKH,KAA7B,CAFD;AAGNI,MAAAA,UAAU,EAAE;AAHN,K;;UAcRC,Q,GAAW,YAAM;AACf,YAAKC,QAAL,CAAc;AACZP,QAAAA,aAAa,EAAE,MAAKC,KAAL,CAAWC;AADd,OAAd;;AAGA,YAAKM,YAAL,CAAkB,KAAlB;AACD,K;;UAEDC,M,GAAS,YAAM;AAAA,wBACkB,MAAKV,KADvB;AAAA,UACNC,aADM,eACNA,aADM;AAAA,UACSG,KADT,eACSA,KADT;;AAEbO,sBAAEC,MAAF,CAAS,MAAKV,KAAd,EAAqB,UAArB,EAAiCS,gBAAEE,WAAF,CAAcZ,aAAd,IAA+BU,gBAAEG,GAAF,CAAMV,KAAN,EAAa,WAAb,CAA/B,GAA2DH,aAA5F;;AACA,YAAKQ,YAAL,CAAkB,KAAlB;AACD,K;;UAEDM,a,GAAgB,UAAAd,aAAa,EAAI;AAC/B,YAAKO,QAAL,CAAc;AACZP,QAAAA,aAAa,EAAbA;AADY,OAAd;AAGD,K;;UAaDQ,Y,GAAe,UAAAH,UAAU,EAAI;AAC3B,YAAKE,QAAL,CAAc;AAACF,QAAAA,UAAU,EAAVA;AAAD,OAAd;AACD,K;;UAEDU,kB,GAAqB,YAAM;AAAA,yBACW,MAAKhB,KADhB;AAAA,UAClBC,aADkB,gBAClBA,aADkB;AAAA,UACHK,UADG,gBACHA,UADG;AAGzB,aACE,6BAAC,qBAAD,6BACM,MAAKW,aAAL,EADN;AAEE,QAAA,OAAO,EAAEX,UAFX;AAGE,QAAA,UAAU,MAHZ;AAIE,QAAA,SAAS,EAAE,MAAKC,QAJlB;AAKE,QAAA,aAAa,EAAE,MAAKQ,aALtB;AAME,QAAA,aAAa,EAAEd,aANjB;AAOE,QAAA,MAAM,EAAE,MAAKS,MAPf;AAQE,QAAA,QAAQ,EAAE,MAAKH,QARjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF;AAYD,K;;;;;;;uCAzDkBL,K,EAAO;AAAA,UACjBgB,QADiB,GACYhB,KADZ,CACjBgB,QADiB;AAAA,UACPC,eADO,GACYjB,KADZ,CACPiB,eADO;;AAExB,UAAIA,eAAJ,EAAqB;AACnB,YAAMf,KAAK,GAAGgB,eAAMC,QAAN,CAAeC,GAAf,CAAmBJ,QAAnB,EAA6B,UAAAK,KAAK;AAAA,iBAAK;AAACpB,YAAAA,KAAK,EAAEoB,KAAK,CAACrB,KAAN,CAAYC,KAApB;AAA2BqB,YAAAA,KAAK,EAAED,KAAK,CAACrB,KAAN,CAAYsB;AAA9C,WAAL;AAAA,SAAlC,CAAd;;AACA,eAAOpB,KAAP;AACD;AACF;;;+BAqBU;AAAA,wBACiB,KAAKF,KADtB;AAAA,UACFC,KADE,eACFA,KADE;AAAA,UACKsB,QADL,eACKA,QADL;;AAET,UAAId,gBAAEe,UAAF,CAAaD,QAAb,CAAJ,EAA4B;AAC1B,eAAOA,QAAQ,CAACtB,KAAD,CAAf;AACD;;AAJQ,UAMFC,KANE,GAMO,KAAKJ,KANZ,CAMFI,KANE;;AAOT,UAAMuB,YAAY,GAAGhB,gBAAEiB,IAAF,CAAOxB,KAAP,EAAc;AAACD,QAAAA,KAAK,EAALA;AAAD,OAAd,CAArB;;AACA,aAAOQ,gBAAEG,GAAF,CAAMa,YAAN,EAAoB,OAApB,CAAP;AACD;;;6BAuBQ;AAAA;;AAAA,yBAC2C,KAAKzB,KADhD;AAAA,UACA2B,YADA,gBACAA,YADA;AAAA,UACcC,iBADd,gBACcA,iBADd;AAAA,UACiCC,MADjC,gBACiCA,MADjC;;AAGP,UAAIpB,gBAAEe,UAAF,CAAaG,YAAb,CAAJ,EAAgC;AAAA,YACvB5B,aADuB,GACN,KAAKD,KADC,CACvBC,aADuB;AAE9B,eACE,6BAAC,aAAD;AAAM,UAAA,IAAI,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,6BAAC,yBAAD,6BAAsB6B,iBAAtB;AAAyC,UAAA,IAAI,MAA7C;AAA8C,UAAA,OAAO,EAAE;AAAA,mBAAM,MAAI,CAACrB,YAAL,CAAkB,IAAlB,CAAN;AAAA,WAAvD;AAAsF,UAAA,MAAM,EAAEsB,MAA9F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YACGF,YAAY,CAAC5B,aAAD,CADf,CADF,EAIG,KAAKe,kBAAL,EAJH,CADF;AAQD;;AAED,UAAMgB,cAAc,GAAGC,mBAAUC,eAAV,CAA0B,KAAKhC,KAA/B,CAAvB;;AACA,UAAMsB,KAAK,GAAG,KAAKC,QAAL,EAAd;AACA,aACE,6BAAC,kBAAD;AACE,QAAA,KAAK,EAAEU,cAAOC;AADhB,SAEMJ,cAFN;AAGE,QAAA,KAAK,EAAER,KAHT;AAIE,QAAA,UAAU,MAJZ;AAKE,QAAA,gBAAgB,EAAE,KAAKR,kBALzB;AAME,QAAA,uBAAuB,EAAE,KAAKP,YANhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF;AAUD;;;EA7FwB4B,sB;;AAgG3BtC,YAAY,CAACuC,IAAb,GAAoBC,8BAAYD,IAAhC;eACevC,Y","sourcesContent":["import _ from 'lodash';\nimport React from 'react';\nimport {BaseComponent} from '../../commons';\nimport TextField from '../inputs/TextField';\nimport {WheelPicker} from '../../nativeComponents';\nimport PickerDialog from './PickerDialog';\nimport TouchableOpacity from '../touchableOpacity';\nimport View from '../view';\nimport {Colors} from '../../style';\n\nclass NativePicker extends BaseComponent {\n  state = {\n    selectedValue: this.props.value,\n    items: this.extractPickerItems(this.props),\n    showDialog: false\n  };\n\n  extractPickerItems(props) {\n    const {children, useNativePicker} = props;\n    if (useNativePicker) {\n      const items = React.Children.map(children, child => ({value: child.props.value, label: child.props.label}));\n      return items;\n    }\n  }\n\n  onCancel = () => {\n    this.setState({\n      selectedValue: this.props.value\n    });\n    this.toggleDialog(false);\n  };\n\n  onDone = () => {\n    const {selectedValue, items} = this.state;\n    _.invoke(this.props, 'onChange', _.isUndefined(selectedValue) ? _.get(items, '[0].value') : selectedValue);\n    this.toggleDialog(false);\n  };\n\n  onValueChange = selectedValue => {\n    this.setState({\n      selectedValue\n    });\n  };\n\n  getLabel() {\n    const {value, getLabel} = this.props;\n    if (_.isFunction(getLabel)) {\n      return getLabel(value);\n    }\n\n    const {items} = this.state;\n    const selectedItem = _.find(items, {value});\n    return _.get(selectedItem, 'label');\n  }\n\n  toggleDialog = showDialog => {\n    this.setState({showDialog});\n  };\n\n  renderPickerDialog = () => {\n    const {selectedValue, showDialog} = this.state;\n\n    return (\n      <PickerDialog\n        {...this.getThemeProps()}\n        visible={showDialog}\n        disablePan\n        onDismiss={this.onCancel}\n        onValueChange={this.onValueChange}\n        selectedValue={selectedValue}\n        onDone={this.onDone}\n        onCancel={this.onCancel}\n      />\n    );\n  };\n\n  render() {\n    const {renderPicker, customPickerProps, testID} = this.props;\n\n    if (_.isFunction(renderPicker)) {\n      const {selectedValue} = this.state;\n      return (\n        <View left>\n          <TouchableOpacity {...customPickerProps} link onPress={() => this.toggleDialog(true)} testID={testID}>\n            {renderPicker(selectedValue)}\n          </TouchableOpacity>\n          {this.renderPickerDialog()}\n        </View>\n      );\n    }\n\n    const textInputProps = TextField.extractOwnProps(this.props);\n    const label = this.getLabel();\n    return (\n      <TextField\n        color={Colors.dark10}\n        {...textInputProps}\n        value={label}\n        expandable\n        renderExpandable={this.renderPickerDialog}\n        onToggleExpandableModal={this.toggleDialog}\n      />\n    );\n  }\n}\n\nNativePicker.Item = WheelPicker.Item;\nexport default NativePicker;\n"]},"metadata":{},"sourceType":"script"}