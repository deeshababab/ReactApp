{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _image = _interopRequireDefault(require(\"../../components/image\"));\n\nvar _commons = require(\"../../commons\");\n\nvar _jsxFileName = \"E:\\\\react-native-starter-master\\\\react-native-starter-master\\\\node_modules\\\\react-native-ui-lib\\\\src\\\\components\\\\animatedImage\\\\index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar UIAnimatedImage = _reactNative.Animated.createAnimatedComponent(_image.default);\n\nvar deprecatedProps = [{\n  old: 'imageSource',\n  new: 'source'\n}, {\n  old: 'imageStyle',\n  new: 'style'\n}, {\n  old: 'testId',\n  new: 'testID'\n}];\n\nvar AnimatedImage = function (_BaseComponent) {\n  (0, _inherits2.default)(AnimatedImage, _BaseComponent);\n\n  var _super = _createSuper(AnimatedImage);\n\n  function AnimatedImage(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, AnimatedImage);\n    _this = _super.call(this, props);\n\n    _this.onLoad = function () {\n      _this.setState({\n        isLoading: false\n      }, function () {\n        var animationParams = {\n          toValue: 1,\n          duration: _this.props.animationDuration,\n          useNativeDriver: true\n        };\n\n        _reactNative.Animated.timing(_this.state.opacity, animationParams).start();\n      });\n    };\n\n    _this.state = {\n      opacity: new _reactNative.Animated.Value(0),\n      isLoading: true\n    };\n\n    _this.checkForDeprecatedProps(props);\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(AnimatedImage, [{\n    key: \"checkForDeprecatedProps\",\n    value: function checkForDeprecatedProps(props) {\n      deprecatedProps.forEach(function (prop) {\n        if (props[prop.old]) {\n          console.warn(\"'\" + prop.old + \"' property is deprecated, use '\" + prop.new + \"' instead\");\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          containerStyle = _this$props.containerStyle,\n          loader = _this$props.loader,\n          others = (0, _objectWithoutProperties2.default)(_this$props, [\"containerStyle\", \"loader\"]);\n      return _react.default.createElement(_reactNative.View, {\n        style: containerStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 7\n        }\n      }, _react.default.createElement(UIAnimatedImage, (0, _extends2.default)({}, others, {\n        style: [{\n          opacity: this.state.opacity\n        }, this.style],\n        source: this.source,\n        onLoad: function onLoad() {\n          return _this2.onLoad();\n        },\n        testID: this.testID,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 9\n        }\n      })), this.state.isLoading && loader && _react.default.createElement(_reactNative.View, {\n        style: _objectSpread(_objectSpread({}, _reactNative.StyleSheet.absoluteFillObject), {}, {\n          justifyContent: 'center'\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }\n      }, loader));\n    }\n  }, {\n    key: \"source\",\n    get: function get() {\n      var _this$props2 = this.props,\n          imageSource = _this$props2.imageSource,\n          source = _this$props2.source;\n      return source || imageSource;\n    }\n  }, {\n    key: \"style\",\n    get: function get() {\n      var _this$props3 = this.props,\n          imageStyle = _this$props3.imageStyle,\n          style = _this$props3.style;\n      return style || imageStyle;\n    }\n  }, {\n    key: \"testID\",\n    get: function get() {\n      var _this$props4 = this.props,\n          testId = _this$props4.testId,\n          testID = _this$props4.testID;\n      return testID || testId;\n    }\n  }]);\n  return AnimatedImage;\n}(_commons.BaseComponent);\n\nAnimatedImage.displayName = 'AnimatedImage';\nAnimatedImage.propTypes = _objectSpread(_objectSpread({}, _image.default.propTypes), {}, {\n  containerStyle: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.number]),\n  imageStyle: _propTypes.default.object,\n  imageSource: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.number]),\n  animationDuration: _propTypes.default.number,\n  loader: _propTypes.default.element,\n  testId: _propTypes.default.string\n});\nAnimatedImage.defaultProps = {\n  animationDuration: 300\n};\nvar _default = AnimatedImage;\nexports.default = _default;","map":{"version":3,"sources":["E:/react-native-starter-master/react-native-starter-master/node_modules/react-native-ui-lib/src/components/animatedImage/index.js"],"names":["UIAnimatedImage","Animated","createAnimatedComponent","Image","deprecatedProps","old","new","AnimatedImage","props","onLoad","setState","isLoading","animationParams","toValue","duration","animationDuration","useNativeDriver","timing","state","opacity","start","Value","checkForDeprecatedProps","forEach","prop","console","warn","containerStyle","loader","others","style","source","testID","StyleSheet","absoluteFillObject","justifyContent","imageSource","imageStyle","testId","BaseComponent","displayName","propTypes","PropTypes","oneOfType","object","number","element","string","defaultProps"],"mappings":"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","sourcesContent":["// TODO: consider unify this component functionality with our Image component\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Animated, View, StyleSheet} from 'react-native';\nimport Image from '../../components/image';\nimport {BaseComponent} from '../../commons';\n\nconst UIAnimatedImage = Animated.createAnimatedComponent(Image);\n\nconst deprecatedProps = [\n  {old: 'imageSource', new: 'source'},\n  {old: 'imageStyle', new: 'style'},\n  {old: 'testId', new: 'testID'}\n];\n\n/**\n * @description: Image component that fades-in the image with animation once it's loaded\n * @extends: Animated.Image\n * @gif: https://media.giphy.com/media/l0HU7jj0ivEFyZIA0/giphy.gif\n * @example: https://github.com/wix/react-native-ui-lib/blob/master/demo/src/screens/componentScreens/AnimatedImageScreen.js\n */\nclass AnimatedImage extends BaseComponent {\n  static displayName = 'AnimatedImage';\n  static propTypes = {\n    /**\n     * Image prop Types\n     */\n    ...Image.propTypes,\n    /**\n     * Additional spacing styles for the container\n     */\n    containerStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number]),\n    /**\n     * Style for the image component\n     */\n    imageStyle: PropTypes.object,\n    /**\n     * The image source (external or assets)\n     */\n    imageSource: PropTypes.oneOfType([PropTypes.object, PropTypes.number]),\n    /**\n     * Duration for the fade animation when the image is loaded\n     */\n    animationDuration: PropTypes.number,\n    /**\n     * A component to render while the image is loading\n     */\n    loader: PropTypes.element,\n    /**\n     * Use to identify the avatar in tests\n     */\n    testId: PropTypes.string\n  };\n\n  static defaultProps = {\n    animationDuration: 300\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {opacity: new Animated.Value(0), isLoading: true};\n    this.checkForDeprecatedProps(props);\n  }\n\n  checkForDeprecatedProps(props) {\n    deprecatedProps.forEach(prop => {\n      if (props[prop.old]) {\n        console.warn(`'${prop.old}' property is deprecated, use '${prop.new}' instead`);\n      }\n    });\n  }\n\n  get source() {\n    const {imageSource, source} = this.props;\n    return source || imageSource;\n  }\n\n  get style() {\n    const {imageStyle, style} = this.props;\n    return style || imageStyle;\n  }\n\n  get testID() {\n    // TODO: remove testId after deprecation\n    const {testId, testID} = this.props;\n    return testID || testId;\n  }\n\n  onLoad = () => {\n    this.setState({isLoading: false}, () => {\n      const animationParams = {toValue: 1, duration: this.props.animationDuration, useNativeDriver: true};\n      Animated.timing(this.state.opacity, animationParams).start();\n    });\n  };\n\n  render() {\n    const {containerStyle, loader, ...others} = this.props;\n    return (\n      <View style={containerStyle}>\n        <UIAnimatedImage\n          {...others}\n          style={[{opacity: this.state.opacity}, this.style]}\n          source={this.source}\n          onLoad={() => this.onLoad()}\n          testID={this.testID}\n        />\n        {this.state.isLoading && loader && (\n          <View style={{...StyleSheet.absoluteFillObject, justifyContent: 'center'}}>{loader}</View>\n        )}\n      </View>\n    );\n  }\n}\n\nexport default AnimatedImage;\n"]},"metadata":{},"sourceType":"script"}