{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactNativeReanimated = _interopRequireWildcard(require(\"react-native-reanimated\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _touchableOpacity = _interopRequireDefault(require(\"../touchableOpacity\"));\n\nvar _style = require(\"../../style\");\n\nvar _ShareTransitionContext = _interopRequireDefault(require(\"./ShareTransitionContext\"));\n\nvar _jsxFileName = \"E:\\\\react-native-starter-master\\\\react-native-starter-master\\\\node_modules\\\\react-native-ui-lib\\\\src\\\\components\\\\sharedTransition\\\\SharedArea.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar SharedArea = function (_Component) {\n  (0, _inherits2.default)(SharedArea, _Component);\n\n  var _super = _createSuper(SharedArea);\n\n  function SharedArea() {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, SharedArea);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {};\n    _this.transition = new _reactNativeReanimated.default.Value(0);\n\n    _this.setSharedData = function (data) {\n      _this.setState({\n        data: data\n      });\n    };\n\n    _this.setSource = function (sourceLayout, element) {\n      _this.setState({\n        sourceLayout: sourceLayout,\n        element: element,\n        showDetails: true\n      }, function () {\n        _this.startTransition(true);\n      });\n    };\n\n    _this.setTarget = function (targetLayout) {\n      _this.setState({\n        targetLayout: targetLayout\n      });\n    };\n\n    _this.clearSource = function () {\n      _this.startTransition(false, function () {\n        _this.setState({\n          showDetails: false,\n          data: undefined,\n          sourceLayout: undefined,\n          element: undefined\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(SharedArea, [{\n    key: \"getProviderContextValue\",\n    value: function getProviderContextValue() {\n      var showDetails = this.state.showDetails;\n      return {\n        setSharedData: this.setSharedData,\n        setSource: this.setSource,\n        setTarget: this.setTarget,\n        showDetails: showDetails\n      };\n    }\n  }, {\n    key: \"getOverlayStyle\",\n    value: function getOverlayStyle() {\n      return _objectSpread(_objectSpread({}, _reactNative.StyleSheet.absoluteFillObject), {}, {\n        backgroundColor: _style.Colors.white,\n        opacity: _reactNativeReanimated.default.interpolate(this.transition, {\n          inputRange: [0, 1],\n          outputRange: [0, 1]\n        })\n      });\n    }\n  }, {\n    key: \"getDetailsStyle\",\n    value: function getDetailsStyle() {\n      return _objectSpread(_objectSpread({}, _reactNative.StyleSheet.absoluteFillObject), {}, {\n        opacity: _reactNativeReanimated.default.interpolate(this.transition, {\n          inputRange: [90, 100],\n          outputRange: [0, 1]\n        })\n      });\n    }\n  }, {\n    key: \"getElementStyle\",\n    value: function getElementStyle() {\n      var _this$state = this.state,\n          sourceLayout = _this$state.sourceLayout,\n          targetLayout = _this$state.targetLayout;\n\n      if (sourceLayout && this.transition) {\n        return {\n          position: 'absolute',\n          width: _reactNativeReanimated.default.interpolate(this.transition, {\n            inputRange: [0, 100],\n            outputRange: [sourceLayout.width, targetLayout.width]\n          }),\n          height: _reactNativeReanimated.default.interpolate(this.transition, {\n            inputRange: [0, 100],\n            outputRange: [sourceLayout.height, targetLayout.height]\n          }),\n          top: _reactNativeReanimated.default.interpolate(this.transition, {\n            inputRange: [0, 100],\n            outputRange: [sourceLayout.y, targetLayout.y]\n          }),\n          left: _reactNativeReanimated.default.interpolate(this.transition, {\n            inputRange: [0, 100],\n            outputRange: [sourceLayout.x, targetLayout.x]\n          })\n        };\n      }\n    }\n  }, {\n    key: \"startTransition\",\n    value: function startTransition(show, onAnimationEnd) {\n      _reactNativeReanimated.default.timing(this.transition, {\n        toValue: show ? 100 : 0,\n        duration: 600,\n        easing: _reactNativeReanimated.Easing.bezier(0.19, 1, 0.22, 1),\n        useNativeDriver: false\n      }).start(onAnimationEnd);\n    }\n  }, {\n    key: \"renderDetailsOverlay\",\n    value: function renderDetailsOverlay() {\n      var renderDetails = this.props.renderDetails;\n      var _this$state2 = this.state,\n          data = _this$state2.data,\n          element = _this$state2.element;\n      return _react.default.createElement(_reactNativeReanimated.default.View, {\n        pointerEvents: data ? 'auto' : 'none',\n        style: this.getOverlayStyle(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 7\n        }\n      }, _react.default.createElement(_reactNativeReanimated.default.View, {\n        pointerEvents: \"box-none\",\n        style: this.getDetailsStyle(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 9\n        }\n      }, renderDetails(data)), _react.default.createElement(_reactNativeReanimated.default.View, {\n        style: this.getElementStyle(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 9\n        }\n      }, _react.default.createElement(_touchableOpacity.default, {\n        activeOpacity: 1,\n        onPress: this.clearSource,\n        style: {\n          flex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }\n      }, element)));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react.default.createElement(_ShareTransitionContext.default.Provider, {\n        value: this.getProviderContextValue(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 7\n        }\n      }, this.props.children, this.renderDetailsOverlay());\n    }\n  }]);\n  return SharedArea;\n}(_react.Component);\n\nSharedArea.propTypes = {\n  renderDetails: _propTypes.default.func\n};\nSharedArea.defaultProps = {\n  renderDetails: _lodash.default.noop\n};\nvar _default = SharedArea;\nexports.default = _default;","map":{"version":3,"sources":["E:/react-native-starter-master/react-native-starter-master/node_modules/react-native-ui-lib/src/components/sharedTransition/SharedArea.js"],"names":["SharedArea","state","transition","Animated","Value","setSharedData","data","setState","setSource","sourceLayout","element","showDetails","startTransition","setTarget","targetLayout","clearSource","undefined","StyleSheet","absoluteFillObject","backgroundColor","Colors","white","opacity","interpolate","inputRange","outputRange","position","width","height","top","y","left","x","show","onAnimationEnd","timing","toValue","duration","easing","Easing","bezier","useNativeDriver","start","renderDetails","props","getOverlayStyle","getDetailsStyle","getElementStyle","flex","getProviderContextValue","children","renderDetailsOverlay","Component","propTypes","PropTypes","func","defaultProps","_","noop"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;IAEMA,U;;;;;;;;;;;;;;;UAYJC,K,GAAQ,E;UACRC,U,GAAa,IAAIC,+BAASC,KAAb,CAAmB,CAAnB,C;;UAoDbC,a,GAAgB,UAAAC,IAAI,EAAI;AACtB,YAAKC,QAAL,CAAc;AACZD,QAAAA,IAAI,EAAJA;AADY,OAAd;AAGD,K;;UAEDE,S,GAAY,UAACC,YAAD,EAAeC,OAAf,EAA2B;AACrC,YAAKH,QAAL,CAAc;AACZE,QAAAA,YAAY,EAAZA,YADY;AAEZC,QAAAA,OAAO,EAAPA,OAFY;AAGZC,QAAAA,WAAW,EAAE;AAHD,OAAd,EAKA,YAAM;AACJ,cAAKC,eAAL,CAAqB,IAArB;AACD,OAPD;AAQD,K;;UAEDC,S,GAAY,UAAAC,YAAY,EAAI;AAC1B,YAAKP,QAAL,CAAc;AACZO,QAAAA,YAAY,EAAZA;AADY,OAAd;AAGD,K;;UAEDC,W,GAAc,YAAM;AAClB,YAAKH,eAAL,CAAqB,KAArB,EAA4B,YAAM;AAChC,cAAKL,QAAL,CAAc;AACZI,UAAAA,WAAW,EAAE,KADD;AAEZL,UAAAA,IAAI,EAAEU,SAFM;AAGZP,UAAAA,YAAY,EAAEO,SAHF;AAIZN,UAAAA,OAAO,EAAEM;AAJG,SAAd;AAMD,OAPD;AAQD,K;;;;;;;8CAlFyB;AAAA,UACjBL,WADiB,GACF,KAAKV,KADH,CACjBU,WADiB;AAExB,aAAO;AACLN,QAAAA,aAAa,EAAE,KAAKA,aADf;AAELG,QAAAA,SAAS,EAAE,KAAKA,SAFX;AAGLK,QAAAA,SAAS,EAAE,KAAKA,SAHX;AAILF,QAAAA,WAAW,EAAXA;AAJK,OAAP;AAMD;;;sCAEiB;AAChB,6CACKM,wBAAWC,kBADhB;AAEEC,QAAAA,eAAe,EAAEC,cAAOC,KAF1B;AAGEC,QAAAA,OAAO,EAAEnB,+BAASoB,WAAT,CAAqB,KAAKrB,UAA1B,EAAsC;AAACsB,UAAAA,UAAU,EAAE,CAAC,CAAD,EAAI,CAAJ,CAAb;AAAqBC,UAAAA,WAAW,EAAE,CAAC,CAAD,EAAI,CAAJ;AAAlC,SAAtC;AAHX;AAKD;;;sCAEiB;AAChB,6CACKR,wBAAWC,kBADhB;AAEEI,QAAAA,OAAO,EAAEnB,+BAASoB,WAAT,CAAqB,KAAKrB,UAA1B,EAAsC;AAACsB,UAAAA,UAAU,EAAE,CAAC,EAAD,EAAK,GAAL,CAAb;AAAwBC,UAAAA,WAAW,EAAE,CAAC,CAAD,EAAI,CAAJ;AAArC,SAAtC;AAFX;AAID;;;sCAEiB;AAAA,wBACqB,KAAKxB,KAD1B;AAAA,UACTQ,YADS,eACTA,YADS;AAAA,UACKK,YADL,eACKA,YADL;;AAEhB,UAAIL,YAAY,IAAI,KAAKP,UAAzB,EAAqC;AACnC,eAAO;AACLwB,UAAAA,QAAQ,EAAE,UADL;AAELC,UAAAA,KAAK,EAAExB,+BAASoB,WAAT,CAAqB,KAAKrB,UAA1B,EAAsC;AAC3CsB,YAAAA,UAAU,EAAE,CAAC,CAAD,EAAI,GAAJ,CAD+B;AAE3CC,YAAAA,WAAW,EAAE,CAAChB,YAAY,CAACkB,KAAd,EAAqBb,YAAY,CAACa,KAAlC;AAF8B,WAAtC,CAFF;AAMLC,UAAAA,MAAM,EAAEzB,+BAASoB,WAAT,CAAqB,KAAKrB,UAA1B,EAAsC;AAC5CsB,YAAAA,UAAU,EAAE,CAAC,CAAD,EAAI,GAAJ,CADgC;AAE5CC,YAAAA,WAAW,EAAE,CAAChB,YAAY,CAACmB,MAAd,EAAsBd,YAAY,CAACc,MAAnC;AAF+B,WAAtC,CANH;AAULC,UAAAA,GAAG,EAAE1B,+BAASoB,WAAT,CAAqB,KAAKrB,UAA1B,EAAsC;AACzCsB,YAAAA,UAAU,EAAE,CAAC,CAAD,EAAI,GAAJ,CAD6B;AAEzCC,YAAAA,WAAW,EAAE,CAAChB,YAAY,CAACqB,CAAd,EAAiBhB,YAAY,CAACgB,CAA9B;AAF4B,WAAtC,CAVA;AAcLC,UAAAA,IAAI,EAAE5B,+BAASoB,WAAT,CAAqB,KAAKrB,UAA1B,EAAsC;AAC1CsB,YAAAA,UAAU,EAAE,CAAC,CAAD,EAAI,GAAJ,CAD8B;AAE1CC,YAAAA,WAAW,EAAE,CAAChB,YAAY,CAACuB,CAAd,EAAiBlB,YAAY,CAACkB,CAA9B;AAF6B,WAAtC;AAdD,SAAP;AAmBD;AACF;;;oCAoCeC,I,EAAMC,c,EAAgB;AACpC/B,qCAASgC,MAAT,CAAgB,KAAKjC,UAArB,EAAiC;AAC/BkC,QAAAA,OAAO,EAAEH,IAAI,GAAG,GAAH,GAAS,CADS;AAE/BI,QAAAA,QAAQ,EAAE,GAFqB;AAG/BC,QAAAA,MAAM,EAAEC,8BAAOC,MAAP,CAAc,IAAd,EAAoB,CAApB,EAAuB,IAAvB,EAA6B,CAA7B,CAHuB;AAI/BC,QAAAA,eAAe,EAAE;AAJc,OAAjC,EAKGC,KALH,CAKSR,cALT;AAMD;;;2CAEsB;AAAA,UACdS,aADc,GACG,KAAKC,KADR,CACdD,aADc;AAAA,yBAEG,KAAK1C,KAFR;AAAA,UAEdK,IAFc,gBAEdA,IAFc;AAAA,UAERI,OAFQ,gBAERA,OAFQ;AAIrB,aACE,6BAAC,8BAAD,CAAU,IAAV;AAAe,QAAA,aAAa,EAAEJ,IAAI,GAAG,MAAH,GAAY,MAA9C;AAAsD,QAAA,KAAK,EAAE,KAAKuC,eAAL,EAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,6BAAC,8BAAD,CAAU,IAAV;AAAe,QAAA,aAAa,EAAC,UAA7B;AAAwC,QAAA,KAAK,EAAE,KAAKC,eAAL,EAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGH,aAAa,CAACrC,IAAD,CADhB,CADF,EAKE,6BAAC,8BAAD,CAAU,IAAV;AAAe,QAAA,KAAK,EAAE,KAAKyC,eAAL,EAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,6BAAC,yBAAD;AAAkB,QAAA,aAAa,EAAE,CAAjC;AAAoC,QAAA,OAAO,EAAE,KAAKhC,WAAlD;AAAsF,QAAA,KAAK,EAAE;AAACiC,UAAAA,IAAI,EAAE;AAAP,SAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGtC,OADH,CADF,CALF,CADF;AAaD;;;6BAEQ;AACP,aACE,6BAAC,+BAAD,CAAwB,QAAxB;AAAiC,QAAA,KAAK,EAAE,KAAKuC,uBAAL,EAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKL,KAAL,CAAWM,QADd,EAEG,KAAKC,oBAAL,EAFH,CADF;AAMD;;;EAtIsBC,gB;;AAAnBpD,U,CACGqD,S,GAAY;AAIjBV,EAAAA,aAAa,EAAEW,mBAAUC;AAJR,C;AADfvD,U,CAQGwD,Y,GAAe;AACpBb,EAAAA,aAAa,EAAEc,gBAAEC;AADG,C;eAiIT1D,U","sourcesContent":["import React, {Component} from 'react';\nimport {StyleSheet} from 'react-native';\nimport Animated, {Easing} from 'react-native-reanimated';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport TouchableOpacity from '../touchableOpacity';\nimport {Colors} from '../../style';\nimport ShareTransitionContext from './ShareTransitionContext';\n\nclass SharedArea extends Component {\n  static propTypes = {\n    /**\n     * render details screen\n     */\n    renderDetails: PropTypes.func\n  };\n\n  static defaultProps = {\n    renderDetails: _.noop\n  };\n\n  state = {};\n  transition = new Animated.Value(0);\n\n  getProviderContextValue() {\n    const {showDetails} = this.state;\n    return {\n      setSharedData: this.setSharedData,\n      setSource: this.setSource,\n      setTarget: this.setTarget,\n      showDetails\n    };\n  }\n\n  getOverlayStyle() {\n    return {\n      ...StyleSheet.absoluteFillObject,\n      backgroundColor: Colors.white,\n      opacity: Animated.interpolate(this.transition, {inputRange: [0, 1], outputRange: [0, 1]})\n    };\n  }\n\n  getDetailsStyle() {\n    return {\n      ...StyleSheet.absoluteFillObject,\n      opacity: Animated.interpolate(this.transition, {inputRange: [90, 100], outputRange: [0, 1]})\n    };\n  }\n\n  getElementStyle() {\n    const {sourceLayout, targetLayout} = this.state;\n    if (sourceLayout && this.transition) {\n      return {\n        position: 'absolute',\n        width: Animated.interpolate(this.transition, {\n          inputRange: [0, 100],\n          outputRange: [sourceLayout.width, targetLayout.width]\n        }),\n        height: Animated.interpolate(this.transition, {\n          inputRange: [0, 100],\n          outputRange: [sourceLayout.height, targetLayout.height]\n        }),\n        top: Animated.interpolate(this.transition, {\n          inputRange: [0, 100],\n          outputRange: [sourceLayout.y, targetLayout.y]\n        }),\n        left: Animated.interpolate(this.transition, {\n          inputRange: [0, 100],\n          outputRange: [sourceLayout.x, targetLayout.x]\n        })\n      };\n    }\n  }\n\n  setSharedData = data => {\n    this.setState({\n      data\n    });\n  };\n\n  setSource = (sourceLayout, element) => {\n    this.setState({\n      sourceLayout,\n      element,\n      showDetails: true\n    },\n    () => {\n      this.startTransition(true);\n    },);\n  };\n\n  setTarget = targetLayout => {\n    this.setState({\n      targetLayout\n    });\n  };\n\n  clearSource = () => {\n    this.startTransition(false, () => {\n      this.setState({\n        showDetails: false,\n        data: undefined,\n        sourceLayout: undefined,\n        element: undefined\n      });\n    });\n  };\n\n  startTransition(show, onAnimationEnd) {\n    Animated.timing(this.transition, {\n      toValue: show ? 100 : 0,\n      duration: 600,\n      easing: Easing.bezier(0.19, 1, 0.22, 1),\n      useNativeDriver: false\n    }).start(onAnimationEnd);\n  }\n\n  renderDetailsOverlay() {\n    const {renderDetails} = this.props;\n    const {data, element} = this.state;\n\n    return (\n      <Animated.View pointerEvents={data ? 'auto' : 'none'} style={this.getOverlayStyle()}>\n        <Animated.View pointerEvents=\"box-none\" style={this.getDetailsStyle()}>\n          {renderDetails(data)}\n        </Animated.View>\n\n        <Animated.View style={this.getElementStyle()}>\n          <TouchableOpacity activeOpacity={1} onPress={this.clearSource} /* _style={[style]} */ style={{flex: 1}}>\n            {element}\n          </TouchableOpacity>\n        </Animated.View>\n      </Animated.View>\n    );\n  }\n\n  render() {\n    return (\n      <ShareTransitionContext.Provider value={this.getProviderContextValue()}>\n        {this.props.children}\n        {this.renderDetailsOverlay()}\n      </ShareTransitionContext.Provider>\n    );\n  }\n}\n\nexport default SharedArea;\n"]},"metadata":{},"sourceType":"script"}