{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _helpers = require(\"../../helpers\");\n\nvar _style = require(\"../../style\");\n\nvar _commons = require(\"../../commons\");\n\nvar _dialog = _interopRequireDefault(require(\"../dialog\"));\n\nvar _view = _interopRequireDefault(require(\"../view\"));\n\nvar _text = _interopRequireDefault(require(\"../text\"));\n\nvar _button = _interopRequireDefault(require(\"../button\"));\n\nvar _image = _interopRequireDefault(require(\"../image\"));\n\nvar _listItem = _interopRequireDefault(require(\"../listItem\"));\n\nvar _panningProvider = _interopRequireDefault(require(\"../panningViews/panningProvider\"));\n\nvar _jsxFileName = \"E:\\\\react-native-starter-master\\\\react-native-starter-master\\\\node_modules\\\\react-native-ui-lib\\\\src\\\\components\\\\actionSheet\\\\index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar VERTICAL_PADDING = 8;\n\nvar ActionSheet = function (_BaseComponent) {\n  (0, _inherits2.default)(ActionSheet, _BaseComponent);\n\n  var _super = _createSuper(ActionSheet);\n\n  function ActionSheet(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, ActionSheet);\n    _this = _super.call(this, props);\n    _this.onOptionPress = _this.onOptionPress.bind((0, _assertThisInitialized2.default)(_this));\n    _this.renderAction = _this.renderAction.bind((0, _assertThisInitialized2.default)(_this));\n    return _this;\n  }\n\n  (0, _createClass2.default)(ActionSheet, [{\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      var _this$getThemeProps = this.getThemeProps(),\n          useNativeIOS = _this$getThemeProps.useNativeIOS;\n\n      var wasVisible = this.props.visible;\n      var willBeVisible = nextProps.visible;\n\n      if (!wasVisible && willBeVisible && useNativeIOS && _helpers.Constants.isIOS) {\n        var title = nextProps.title,\n            message = nextProps.message,\n            cancelButtonIndex = nextProps.cancelButtonIndex,\n            destructiveButtonIndex = nextProps.destructiveButtonIndex,\n            options = nextProps.options,\n            showCancelButton = nextProps.showCancelButton;\n        var optionsArray = options !== undefined ? options : [];\n        var cancelBtnIndex = cancelButtonIndex;\n\n        if (showCancelButton) {\n          optionsArray.push({\n            label: 'Cancel'\n          });\n          cancelBtnIndex = optionsArray.length - 1;\n        }\n\n        _reactNative.ActionSheetIOS.showActionSheetWithOptions({\n          title: title,\n          message: message,\n          options: _lodash.default.map(optionsArray, 'label'),\n          cancelButtonIndex: cancelBtnIndex,\n          destructiveButtonIndex: destructiveButtonIndex\n        }, this.onOptionPress);\n      }\n    }\n  }, {\n    key: \"onOptionPress\",\n    value: function onOptionPress(optionIndex) {\n      _lodash.default.invoke(this.props, \"options[\" + optionIndex + \"].onPress\");\n\n      _lodash.default.invoke(this.props, 'onDismiss');\n    }\n  }, {\n    key: \"renderIcon\",\n    value: function renderIcon(icon) {\n      return _react.default.createElement(_image.default, {\n        source: icon,\n        resizeMode: 'contain',\n        style: {\n          width: 20,\n          height: 20,\n          marginRight: 16\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 12\n        }\n      });\n    }\n  }, {\n    key: \"renderAction\",\n    value: function renderAction(option, index) {\n      var _this2 = this;\n\n      return _react.default.createElement(_listItem.default, {\n        style: {\n          backgroundColor: 'transparent'\n        },\n        height: 48,\n        key: index,\n        testID: option.testID,\n        onPress: function onPress() {\n          return _this2.onOptionPress(index);\n        },\n        activeBackgroundColor: _style.Colors.dark80,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 7\n        }\n      }, _react.default.createElement(_view.default, {\n        row: true,\n        \"paddingL-16\": true,\n        flex: true,\n        centerV: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 9\n        }\n      }, option.icon && this.renderIcon(option.icon), _react.default.createElement(_text.default, {\n        text70: true,\n        dark10: true,\n        numberOfLines: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }\n      }, option.label)));\n    }\n  }, {\n    key: \"renderActions\",\n    value: function renderActions() {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          title = _this$props.title,\n          options = _this$props.options,\n          cancelButtonIndex = _this$props.cancelButtonIndex,\n          renderAction = _this$props.renderAction,\n          optionsStyle = _this$props.optionsStyle;\n\n      var optionsToRender = _lodash.default.filter(options, function (option, index) {\n        return index !== cancelButtonIndex;\n      });\n\n      return _react.default.createElement(_view.default, {\n        style: [_lodash.default.isEmpty(title) ? styles.listNoTitle : styles.listWithTitle, optionsStyle],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 7\n        }\n      }, _lodash.default.isFunction(renderAction) ? optionsToRender.map(function (option, index) {\n        return renderAction(option, index, _this3.onOptionPress);\n      }) : _lodash.default.map(optionsToRender, this.renderAction));\n    }\n  }, {\n    key: \"renderTitle\",\n    value: function renderTitle() {\n      var title = this.props.title;\n\n      if (!_lodash.default.isEmpty(title)) {\n        return _react.default.createElement(_view.default, {\n          height: 56,\n          \"paddingL-16\": true,\n          centerV: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 9\n          }\n        }, _react.default.createElement(_text.default, {\n          dark40: true,\n          text70: true,\n          style: {\n            alignSelf: 'flex-start'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 11\n          }\n        }, title));\n      }\n    }\n  }, {\n    key: \"renderSheet\",\n    value: function renderSheet() {\n      var renderTitle = this.props.renderTitle;\n\n      var _this$getThemeProps2 = this.getThemeProps(),\n          containerStyle = _this$getThemeProps2.containerStyle;\n\n      return _react.default.createElement(_view.default, {\n        style: [styles.sheet, containerStyle],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 7\n        }\n      }, _lodash.default.isFunction(renderTitle) ? renderTitle() : this.renderTitle(), this.renderActions());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$getThemeProps3 = this.getThemeProps(),\n          useNativeIOS = _this$getThemeProps3.useNativeIOS,\n          visible = _this$getThemeProps3.visible,\n          onDismiss = _this$getThemeProps3.onDismiss,\n          useModal = _this$getThemeProps3.useModal,\n          dialogStyle = _this$getThemeProps3.dialogStyle,\n          onModalDismissed = _this$getThemeProps3.onModalDismissed,\n          testID = _this$getThemeProps3.testID,\n          useSafeArea = _this$getThemeProps3.useSafeArea;\n\n      if (_helpers.Constants.isIOS && useNativeIOS) {\n        return null;\n      }\n\n      return _react.default.createElement(_dialog.default, {\n        migrate: true,\n        useSafeArea: useSafeArea,\n        testID: testID,\n        bottom: true,\n        centerH: true,\n        width: \"100%\",\n        height: null,\n        style: [styles.dialog, dialogStyle],\n        visible: visible,\n        onDismiss: onDismiss,\n        useModal: useModal,\n        onModalDismissed: onModalDismissed,\n        panDirection: _panningProvider.default.Directions.DOWN,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 7\n        }\n      }, this.renderSheet());\n    }\n  }]);\n  return ActionSheet;\n}(_commons.BaseComponent);\n\nexports.default = ActionSheet;\nActionSheet.displayName = 'ActionSheet';\nActionSheet.propTypes = {\n  visible: _propTypes.default.bool,\n  title: _propTypes.default.string,\n  message: _propTypes.default.string,\n  cancelButtonIndex: _propTypes.default.number,\n  destructiveButtonIndex: _propTypes.default.number,\n  options: _propTypes.default.arrayOf(_propTypes.default.shape(_button.default.propTypes)),\n  onDismiss: _propTypes.default.func,\n  useNativeIOS: _propTypes.default.bool,\n  showCancelButton: _propTypes.default.bool,\n  containerStyle: _reactNative.ViewPropTypes.style,\n  dialogStyle: _reactNative.ViewPropTypes.style,\n  optionsStyle: _reactNative.ViewPropTypes.style,\n  renderTitle: _propTypes.default.func,\n  renderAction: _propTypes.default.func,\n  onModalDismissed: _propTypes.default.func,\n  useSafeArea: _propTypes.default.bool\n};\nActionSheet.defaultProps = {\n  title: undefined,\n  message: undefined\n};\n\nvar styles = _reactNative.StyleSheet.create({\n  sheet: {\n    backgroundColor: _style.Colors.white\n  },\n  dialog: {\n    backgroundColor: _style.Colors.white\n  },\n  listWithTitle: {\n    paddingBottom: VERTICAL_PADDING\n  },\n  listNoTitle: {\n    paddingTop: VERTICAL_PADDING,\n    paddingBottom: VERTICAL_PADDING\n  }\n});","map":{"version":3,"sources":["E:/react-native-starter-master/react-native-starter-master/node_modules/react-native-ui-lib/src/components/actionSheet/index.js"],"names":["VERTICAL_PADDING","ActionSheet","props","onOptionPress","bind","renderAction","nextProps","getThemeProps","useNativeIOS","wasVisible","visible","willBeVisible","Constants","isIOS","title","message","cancelButtonIndex","destructiveButtonIndex","options","showCancelButton","optionsArray","undefined","cancelBtnIndex","push","label","length","ActionSheetIOS","showActionSheetWithOptions","_","map","optionIndex","invoke","icon","width","height","marginRight","option","index","backgroundColor","testID","Colors","dark80","renderIcon","optionsStyle","optionsToRender","filter","isEmpty","styles","listNoTitle","listWithTitle","isFunction","alignSelf","renderTitle","containerStyle","sheet","renderActions","onDismiss","useModal","dialogStyle","onModalDismissed","useSafeArea","dialog","PanningProvider","Directions","DOWN","renderSheet","BaseComponent","displayName","propTypes","PropTypes","bool","string","number","arrayOf","shape","Button","func","ViewPropTypes","style","defaultProps","StyleSheet","create","white","paddingBottom","paddingTop"],"mappings":"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","sourcesContent":["import _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {ActionSheetIOS, StyleSheet, ViewPropTypes} from 'react-native';\nimport {Constants} from '../../helpers';\nimport {Colors} from '../../style';\nimport {BaseComponent} from '../../commons';\nimport Dialog from '../dialog';\nimport View from '../view';\nimport Text from '../text';\nimport Button from '../button';\nimport Image from '../image';\nimport ListItem from '../listItem';\nimport PanningProvider from '../panningViews/panningProvider';\n\nconst VERTICAL_PADDING = 8;\n\n/**\n * @description: Cross platform Action Sheet, with a support for native iOS solution\n * @gif: https://media.giphy.com/media/l0HUpXOR6RqB2ct5S/giphy.gif\n * @example: https://github.com/wix/react-native-ui-lib/blob/master/demo/src/screens/componentScreens/ActionSheetScreen.js\n */\nexport default class ActionSheet extends BaseComponent {\n  static displayName = 'ActionSheet';\n  static propTypes = {\n    /**\n     * Whether to show the action sheet or not\n     */\n    visible: PropTypes.bool,\n    /**\n     * Title of the action sheet. Note: if both title and message are not passed will not render the title view at all\n     */\n    title: PropTypes.string,\n    /**\n     * Message of the action sheet\n     */\n    message: PropTypes.string,\n    /**\n     * Index of the option represents the cancel action (to be displayed as the separated bottom bold button)\n     */\n    cancelButtonIndex: PropTypes.number,\n    /**\n     * Index of the option represents the destructive action (will display red text. Usually used for 'delete' or\n     * 'abort' actions)\n     */\n    destructiveButtonIndex: PropTypes.number,\n    /**\n     * List of options for the action sheet, follows the Button prop types (supply 'label' string and 'onPress'\n     * function)\n     */\n    options: PropTypes.arrayOf(PropTypes.shape(Button.propTypes)),\n    /**\n     * callback for when dismissing the action sheet, usually used for setting visible prop to false\n     */\n    onDismiss: PropTypes.func,\n    /**\n     * Should use the native action sheet for iOS\n     */\n    useNativeIOS: PropTypes.bool,\n    /**\n     * When passed (only with useNativeIOS), will display a cancel button at the bottom (overrides cancelButtonIndex)\n     */\n    showCancelButton: PropTypes.bool,\n    /**\n     * Add or override style of the action sheet (wraps the title and actions)\n     */\n    containerStyle: ViewPropTypes.style,\n    /**\n     * Add or override style of the dialog wrapping the action sheet\n     */\n    dialogStyle: ViewPropTypes.style,\n    /**\n     * Add or override style of the options list\n     */\n    optionsStyle: ViewPropTypes.style,\n    /**\n     * Render custom title\n     */\n    renderTitle: PropTypes.func,\n    /**\n     * Render custom action\n     * Note: you will need to call onOptionPress so the option's onPress will be called\n     */\n    renderAction: PropTypes.func,\n    /**\n     * Called once the modal has been dissmissed (iOS only, modal only)\n     */\n    onModalDismissed: PropTypes.func,\n    /**\n     * Whether or not to handle SafeArea\n     */\n    useSafeArea: PropTypes.bool\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.onOptionPress = this.onOptionPress.bind(this);\n    this.renderAction = this.renderAction.bind(this);\n  }\n\n  static defaultProps = {\n    title: undefined,\n    message: undefined\n  };\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const {useNativeIOS} = this.getThemeProps();\n    const wasVisible = this.props.visible;\n    const willBeVisible = nextProps.visible;\n\n    if (!wasVisible && willBeVisible && useNativeIOS && Constants.isIOS) {\n      const {title, message, cancelButtonIndex, destructiveButtonIndex, options, showCancelButton} = nextProps;\n\n      const optionsArray = options !== undefined ? options : [];\n      let cancelBtnIndex = cancelButtonIndex;\n      if (showCancelButton) {\n        optionsArray.push({label: 'Cancel'});\n        cancelBtnIndex = optionsArray.length - 1;\n      }\n\n      ActionSheetIOS.showActionSheetWithOptions({\n        title,\n        message,\n        options: _.map(optionsArray, 'label'),\n        cancelButtonIndex: cancelBtnIndex,\n        destructiveButtonIndex\n      },\n      this.onOptionPress,);\n    }\n  }\n\n  onOptionPress(optionIndex) {\n    _.invoke(this.props, `options[${optionIndex}].onPress`);\n    _.invoke(this.props, 'onDismiss');\n  }\n\n  renderIcon(icon) {\n    return <Image source={icon} resizeMode={'contain'} style={{width: 20, height: 20, marginRight: 16}}/>;\n  }\n\n  renderAction(option, index) {\n    return (\n      <ListItem\n        style={{backgroundColor: 'transparent'}}\n        height={48}\n        key={index}\n        testID={option.testID}\n        onPress={() => this.onOptionPress(index)}\n        activeBackgroundColor={Colors.dark80}\n      >\n        <View row paddingL-16 flex centerV>\n          {option.icon && this.renderIcon(option.icon)}\n          <Text text70 dark10 numberOfLines={1}>\n            {option.label}\n          </Text>\n        </View>\n      </ListItem>\n    );\n  }\n\n  renderActions() {\n    const {title, options, cancelButtonIndex, renderAction, optionsStyle} = this.props;\n    const optionsToRender = _.filter(options, (option, index) => index !== cancelButtonIndex);\n\n    return (\n      <View style={[_.isEmpty(title) ? styles.listNoTitle : styles.listWithTitle, optionsStyle]}>\n        {_.isFunction(renderAction)\n          ? optionsToRender.map((option, index) => renderAction(option, index, this.onOptionPress))\n          : _.map(optionsToRender, this.renderAction)}\n      </View>\n    );\n  }\n\n  renderTitle() {\n    const {title} = this.props;\n\n    if (!_.isEmpty(title)) {\n      return (\n        <View height={56} paddingL-16 centerV>\n          <Text dark40 text70 style={{alignSelf: 'flex-start'}}>\n            {title}\n          </Text>\n        </View>\n      );\n    }\n  }\n\n  renderSheet() {\n    const {renderTitle} = this.props;\n    const {containerStyle} = this.getThemeProps();\n    return (\n      <View style={[styles.sheet, containerStyle]}>\n        {_.isFunction(renderTitle) ? renderTitle() : this.renderTitle()}\n        {this.renderActions()}\n      </View>\n    );\n  }\n\n  render() {\n    const {\n      useNativeIOS,\n      visible,\n      onDismiss,\n      useModal,\n      dialogStyle,\n      onModalDismissed,\n      testID,\n      useSafeArea\n    } = this.getThemeProps();\n\n    if (Constants.isIOS && useNativeIOS) {\n      return null;\n    }\n\n    return (\n      <Dialog\n        migrate\n        useSafeArea={useSafeArea}\n        testID={testID}\n        bottom\n        centerH\n        width=\"100%\"\n        height={null}\n        style={[styles.dialog, dialogStyle]}\n        visible={visible}\n        onDismiss={onDismiss}\n        useModal={useModal}\n        onModalDismissed={onModalDismissed}\n        panDirection={PanningProvider.Directions.DOWN}\n      >\n        {this.renderSheet()}\n      </Dialog>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  sheet: {\n    backgroundColor: Colors.white\n  },\n  dialog: {\n    backgroundColor: Colors.white\n  },\n  listWithTitle: {\n    paddingBottom: VERTICAL_PADDING\n  },\n  listNoTitle: {\n    paddingTop: VERTICAL_PADDING,\n    paddingBottom: VERTICAL_PADDING\n  }\n});\n"]},"metadata":{},"sourceType":"script"}