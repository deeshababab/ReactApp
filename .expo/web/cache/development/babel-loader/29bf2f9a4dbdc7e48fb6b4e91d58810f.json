{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _helpers = require(\"../../helpers\");\n\nvar _commons = require(\"../../commons\");\n\nvar presenter = _interopRequireWildcard(require(\"./CarouselPresenter-Deprecated\"));\n\nvar _index = _interopRequireDefault(require(\"./index\"));\n\nvar _jsxFileName = \"E:\\\\react-native-starter-master\\\\react-native-starter-master\\\\node_modules\\\\react-native-ui-lib\\\\src\\\\components\\\\carousel\\\\carousel-Deprecated.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar CarouselDeprecated = function (_BaseComponent) {\n  (0, _inherits2.default)(CarouselDeprecated, _BaseComponent);\n\n  var _super = _createSuper(CarouselDeprecated);\n\n  function CarouselDeprecated(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, CarouselDeprecated);\n    _this = _super.call(this, props);\n\n    _this.updateOffset = function () {\n      var animated = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var x = presenter.calcOffset(_this.props, _this.state);\n\n      if (_this.carousel.current) {\n        _this.carousel.current.scrollTo({\n          x: x,\n          animated: animated\n        });\n\n        if (_helpers.Constants.isAndroid) {\n          _this.onMomentumScrollEnd();\n        }\n      }\n    };\n\n    _this.onContentSizeChange = function () {\n      if (_helpers.Constants.isAndroid) {\n        _this.updateOffset();\n      }\n    };\n\n    _this.onMomentumScrollEnd = function () {\n      var _this$state = _this.state,\n          currentStandingPage = _this$state.currentStandingPage,\n          currentPage = _this$state.currentPage;\n\n      _this.setState({\n        currentStandingPage: currentPage\n      });\n\n      if (currentStandingPage !== currentPage) {\n        _lodash.default.invoke(_this.props, 'onChangePage', currentPage, currentStandingPage);\n      }\n    };\n\n    _this.onScroll = function (event) {\n      if (!_this.skippedInitialScroll) {\n        _this.skippedInitialScroll = true;\n        return;\n      }\n\n      var loop = _this.props.loop;\n      var offsetX = presenter.getDirectionOffset(event.nativeEvent.contentOffset.x, _this.props);\n\n      if (offsetX >= 0) {\n        var newPage = presenter.calcPageIndex(offsetX, _this.props);\n\n        _this.setState({\n          currentPage: newPage\n        });\n      }\n\n      if (loop && presenter.isOutOfBounds(offsetX, _this.props)) {\n        _this.updateOffset();\n      }\n\n      _lodash.default.invoke(_this.props, 'onScroll', event);\n    };\n\n    _this.carousel = _react.default.createRef();\n    _this.state = {\n      currentPage: props.initialPage,\n      currentStandingPage: props.initialPage,\n      initialOffset: {\n        x: presenter.calcOffset(props, {\n          currentPage: props.initialPage\n        })\n      }\n    };\n    return _this;\n  }\n\n  (0, _createClass2.default)(CarouselDeprecated, [{\n    key: \"generateStyles\",\n    value: function generateStyles() {\n      this.styles = createStyles(this.props);\n    }\n  }, {\n    key: \"goToPage\",\n    value: function goToPage(pageIndex) {\n      var _this2 = this;\n\n      var animated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      if (this.props.migrate) {\n        this.carousel.current.goToPage(pageIndex, animated);\n      } else {\n        this.setState({\n          currentPage: pageIndex\n        }, function () {\n          return _this2.updateOffset(animated);\n        });\n      }\n    }\n  }, {\n    key: \"cloneChild\",\n    value: function cloneChild(child) {\n      if (!child.key) {\n        return child;\n      }\n\n      return _react.default.cloneElement(child, {\n        key: child.key + \"-clone\"\n      });\n    }\n  }, {\n    key: \"renderChildren\",\n    value: function renderChildren() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          loop = _this$props.loop;\n      var length = presenter.getChildrenLength(this.props);\n\n      var childrenArray = _react.default.Children.toArray(children);\n\n      if (loop) {\n        childrenArray.unshift(this.cloneChild(children[length - 1]));\n        childrenArray.push(this.cloneChild(children[0]));\n      }\n\n      return childrenArray;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.props.migrate) {\n        return _react.default.createElement(_index.default, (0, _extends2.default)({\n          ref: this.carousel\n        }, this.props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 14\n          }\n        }));\n      }\n\n      var _this$props2 = this.props,\n          containerStyle = _this$props2.containerStyle,\n          others = (0, _objectWithoutProperties2.default)(_this$props2, [\"containerStyle\"]);\n      var initialOffset = this.state.initialOffset;\n      return _react.default.createElement(_reactNative.ScrollView, (0, _extends2.default)({}, others, {\n        ref: this.carousel,\n        style: [containerStyle, {\n          flexGrow: 1\n        }],\n        horizontal: true,\n        showsHorizontalScrollIndicator: false,\n        pagingEnabled: true,\n        onScroll: this.onScroll,\n        scrollEventThrottle: 200,\n        contentOffset: initialOffset,\n        onContentSizeChange: this.onContentSizeChange,\n        onMomentumScrollEnd: this.onMomentumScrollEnd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 7\n        }\n      }), this.renderChildren());\n    }\n  }]);\n  return CarouselDeprecated;\n}(_commons.BaseComponent);\n\nexports.default = CarouselDeprecated;\nCarouselDeprecated.displayName = 'IGNORE';\nCarouselDeprecated.propTypes = {\n  initialPage: _propTypes.default.number,\n  pageWidth: _propTypes.default.number,\n  loop: _propTypes.default.bool,\n  onChangePage: _propTypes.default.func,\n  onScroll: _propTypes.default.func,\n  containerStyle: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.number, _propTypes.default.array])\n};\nCarouselDeprecated.defaultProps = {\n  initialPage: 0\n};\n\nfunction createStyles() {\n  return _reactNative.StyleSheet.create({});\n}","map":{"version":3,"sources":["E:/react-native-starter-master/react-native-starter-master/node_modules/react-native-ui-lib/src/components/carousel/carousel-Deprecated.js"],"names":["CarouselDeprecated","props","updateOffset","animated","x","presenter","calcOffset","state","carousel","current","scrollTo","Constants","isAndroid","onMomentumScrollEnd","onContentSizeChange","currentStandingPage","currentPage","setState","_","invoke","onScroll","event","skippedInitialScroll","loop","offsetX","getDirectionOffset","nativeEvent","contentOffset","newPage","calcPageIndex","isOutOfBounds","React","createRef","initialPage","initialOffset","styles","createStyles","pageIndex","migrate","goToPage","child","key","cloneElement","children","length","getChildrenLength","childrenArray","Children","toArray","unshift","cloneChild","push","containerStyle","others","flexGrow","renderChildren","BaseComponent","displayName","propTypes","PropTypes","number","pageWidth","bool","onChangePage","func","oneOfType","object","array","defaultProps","StyleSheet","create"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;IAUqBA,kB;;;;;AAkCnB,8BAAYC,KAAZ,EAAmB;AAAA;;AAAA;AACjB,8BAAMA,KAAN;;AADiB,UAgBnBC,YAhBmB,GAgBJ,YAAsB;AAAA,UAArBC,QAAqB,uEAAV,KAAU;AACnC,UAAMC,CAAC,GAAGC,SAAS,CAACC,UAAV,CAAqB,MAAKL,KAA1B,EAAiC,MAAKM,KAAtC,CAAV;;AAEA,UAAI,MAAKC,QAAL,CAAcC,OAAlB,EAA2B;AACzB,cAAKD,QAAL,CAAcC,OAAd,CAAsBC,QAAtB,CAA+B;AAACN,UAAAA,CAAC,EAADA,CAAD;AAAID,UAAAA,QAAQ,EAARA;AAAJ,SAA/B;;AAEA,YAAIQ,mBAAUC,SAAd,EAAyB;AAIvB,gBAAKC,mBAAL;AACD;AACF;AACF,KA7BkB;;AAAA,UAuCnBC,mBAvCmB,GAuCG,YAAM;AAC1B,UAAIH,mBAAUC,SAAd,EAAyB;AACvB,cAAKV,YAAL;AACD;AACF,KA3CkB;;AAAA,UA8CnBW,mBA9CmB,GA8CG,YAAM;AAAA,wBACiB,MAAKN,KADtB;AAAA,UACnBQ,mBADmB,eACnBA,mBADmB;AAAA,UACEC,WADF,eACEA,WADF;;AAE1B,YAAKC,QAAL,CAAc;AAACF,QAAAA,mBAAmB,EAAEC;AAAtB,OAAd;;AACA,UAAID,mBAAmB,KAAKC,WAA5B,EAAyC;AACvCE,wBAAEC,MAAF,CAAS,MAAKlB,KAAd,EAAqB,cAArB,EAAqCe,WAArC,EAAkDD,mBAAlD;AACD;AACF,KApDkB;;AAAA,UAsDnBK,QAtDmB,GAsDR,UAAAC,KAAK,EAAI;AAClB,UAAI,CAAC,MAAKC,oBAAV,EAAgC;AAC9B,cAAKA,oBAAL,GAA4B,IAA5B;AACA;AACD;;AAJiB,UAMXC,IANW,GAMH,MAAKtB,KANF,CAMXsB,IANW;AAOlB,UAAMC,OAAO,GAAGnB,SAAS,CAACoB,kBAAV,CAA6BJ,KAAK,CAACK,WAAN,CAAkBC,aAAlB,CAAgCvB,CAA7D,EAAgE,MAAKH,KAArE,CAAhB;;AAEA,UAAIuB,OAAO,IAAI,CAAf,EAAkB;AAChB,YAAMI,OAAO,GAAGvB,SAAS,CAACwB,aAAV,CAAwBL,OAAxB,EAAiC,MAAKvB,KAAtC,CAAhB;;AAEA,cAAKgB,QAAL,CAAc;AAACD,UAAAA,WAAW,EAAEY;AAAd,SAAd;AACD;;AAED,UAAIL,IAAI,IAAIlB,SAAS,CAACyB,aAAV,CAAwBN,OAAxB,EAAiC,MAAKvB,KAAtC,CAAZ,EAA0D;AACxD,cAAKC,YAAL;AACD;;AAEDgB,sBAAEC,MAAF,CAAS,MAAKlB,KAAd,EAAqB,UAArB,EAAiCoB,KAAjC;AACD,KA1EkB;;AAGjB,UAAKb,QAAL,GAAgBuB,eAAMC,SAAN,EAAhB;AAEA,UAAKzB,KAAL,GAAa;AACXS,MAAAA,WAAW,EAAEf,KAAK,CAACgC,WADR;AAEXlB,MAAAA,mBAAmB,EAAEd,KAAK,CAACgC,WAFhB;AAGXC,MAAAA,aAAa,EAAE;AAAC9B,QAAAA,CAAC,EAAEC,SAAS,CAACC,UAAV,CAAqBL,KAArB,EAA4B;AAACe,UAAAA,WAAW,EAAEf,KAAK,CAACgC;AAApB,SAA5B;AAAJ;AAHJ,KAAb;AALiB;AAUlB;;;;qCAEgB;AACf,WAAKE,MAAL,GAAcC,YAAY,CAAC,KAAKnC,KAAN,CAA1B;AACD;;;6BAiBQoC,S,EAA4B;AAAA;;AAAA,UAAjBlC,QAAiB,uEAAN,IAAM;;AACnC,UAAI,KAAKF,KAAL,CAAWqC,OAAf,EAAwB;AACtB,aAAK9B,QAAL,CAAcC,OAAd,CAAsB8B,QAAtB,CAA+BF,SAA/B,EAA0ClC,QAA1C;AACD,OAFD,MAEO;AACL,aAAKc,QAAL,CAAc;AAACD,UAAAA,WAAW,EAAEqB;AAAd,SAAd,EAAwC;AAAA,iBAAM,MAAI,CAACnC,YAAL,CAAkBC,QAAlB,CAAN;AAAA,SAAxC;AACD;AACF;;;+BAuCUqC,K,EAAO;AAChB,UAAI,CAACA,KAAK,CAACC,GAAX,EAAgB;AACd,eAAOD,KAAP;AACD;;AAED,aAAOT,eAAMW,YAAN,CAAmBF,KAAnB,EAA0B;AAC/BC,QAAAA,GAAG,EAAKD,KAAK,CAACC,GAAX;AAD4B,OAA1B,CAAP;AAGD;;;qCAEgB;AAAA,wBACU,KAAKxC,KADf;AAAA,UACR0C,QADQ,eACRA,QADQ;AAAA,UACEpB,IADF,eACEA,IADF;AAEf,UAAMqB,MAAM,GAAGvC,SAAS,CAACwC,iBAAV,CAA4B,KAAK5C,KAAjC,CAAf;;AACA,UAAM6C,aAAa,GAAGf,eAAMgB,QAAN,CAAeC,OAAf,CAAuBL,QAAvB,CAAtB;;AAEA,UAAIpB,IAAJ,EAAU;AACRuB,QAAAA,aAAa,CAACG,OAAd,CAAsB,KAAKC,UAAL,CAAgBP,QAAQ,CAACC,MAAM,GAAG,CAAV,CAAxB,CAAtB;AACAE,QAAAA,aAAa,CAACK,IAAd,CAAmB,KAAKD,UAAL,CAAgBP,QAAQ,CAAC,CAAD,CAAxB,CAAnB;AACD;;AACD,aAAOG,aAAP;AACD;;;6BAEQ;AACP,UAAI,KAAK7C,KAAL,CAAWqC,OAAf,EAAwB;AACtB,eAAO,6BAAC,cAAD;AAAa,UAAA,GAAG,EAAE,KAAK9B;AAAvB,WAAqC,KAAKP,KAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAP;AACD;;AAHM,yBAK6B,KAAKA,KALlC;AAAA,UAKAmD,cALA,gBAKAA,cALA;AAAA,UAKmBC,MALnB;AAAA,UAMAnB,aANA,GAMiB,KAAK3B,KANtB,CAMA2B,aANA;AAQP,aACE,6BAAC,uBAAD,6BACMmB,MADN;AAEE,QAAA,GAAG,EAAE,KAAK7C,QAFZ;AAGE,QAAA,KAAK,EAAE,CAAC4C,cAAD,EAAiB;AAACE,UAAAA,QAAQ,EAAE;AAAX,SAAjB,CAHT;AAIE,QAAA,UAAU,MAJZ;AAKE,QAAA,8BAA8B,EAAE,KALlC;AAME,QAAA,aAAa,MANf;AAOE,QAAA,QAAQ,EAAE,KAAKlC,QAPjB;AAQE,QAAA,mBAAmB,EAAE,GARvB;AASE,QAAA,aAAa,EAAEc,aATjB;AAUE,QAAA,mBAAmB,EAAE,KAAKpB,mBAV5B;AAWE,QAAA,mBAAmB,EAAE,KAAKD,mBAX5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAaG,KAAK0C,cAAL,EAbH,CADF;AAiBD;;;EA7J6CC,sB;;;AAA3BxD,kB,CACZyD,W,GAAc,Q;AADFzD,kB,CAGZ0D,S,GAAY;AAIjBzB,EAAAA,WAAW,EAAE0B,mBAAUC,MAJN;AAQjBC,EAAAA,SAAS,EAAEF,mBAAUC,MARJ;AAYjBrC,EAAAA,IAAI,EAAEoC,mBAAUG,IAZC;AAgBjBC,EAAAA,YAAY,EAAEJ,mBAAUK,IAhBP;AAoBjB5C,EAAAA,QAAQ,EAAEuC,mBAAUK,IApBH;AAwBjBZ,EAAAA,cAAc,EAAEO,mBAAUM,SAAV,CAAoB,CAACN,mBAAUO,MAAX,EAAmBP,mBAAUC,MAA7B,EAAqCD,mBAAUQ,KAA/C,CAApB;AAxBC,C;AAHAnE,kB,CA8BZoE,Y,GAAe;AACpBnC,EAAAA,WAAW,EAAE;AADO,C;;AAkIxB,SAASG,YAAT,GAAwB;AACtB,SAAOiC,wBAAWC,MAAX,CAAkB,EAAlB,CAAP;AACD","sourcesContent":["import _ from 'lodash';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {ScrollView, StyleSheet} from 'react-native';\nimport {Constants} from '../../helpers';\nimport {BaseComponent} from '../../commons';\nimport * as presenter from './CarouselPresenter-Deprecated';\nimport NewCarousel from './index';\n\n/**\n * @description: Carousel for scrolling pages horizontally\n * @gif: https://media.giphy.com/media/l0HU7f8gjpRlMRhKw/giphy.gif, https://media.giphy.com/media/3oFzmcjX9OhpyckhcQ/giphy.gif\n * @example: https://github.com/wix/react-native-ui-lib/blob/master/demo/src/screens/componentScreens/CarouselScreen.js\n * @extends: ScrollView\n * @extendsLink: https://facebook.github.io/react-native/docs/scrollview\n * @notes: This is screed width Component\n */\nexport default class CarouselDeprecated extends BaseComponent {\n  static displayName = 'IGNORE';\n\n  static propTypes = {\n    /**\n     * the first page to start with\n     */\n    initialPage: PropTypes.number,\n    /**\n     * the page width (all pages should have the same width)\n     */\n    pageWidth: PropTypes.number,\n    /**\n     * if true, will have infinite scroll\n     */\n    loop: PropTypes.bool,\n    /**\n     * callback for when page has changed\n     */\n    onChangePage: PropTypes.func,\n    /**\n     * callback for onScroll event of the internal ScrollView\n     */\n    onScroll: PropTypes.func,\n    /**\n     * the carousel style\n     */\n    containerStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.array])\n  };\n\n  static defaultProps = {\n    initialPage: 0\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.carousel = React.createRef();\n\n    this.state = {\n      currentPage: props.initialPage,\n      currentStandingPage: props.initialPage,\n      initialOffset: {x: presenter.calcOffset(props, {currentPage: props.initialPage})}\n    };\n  }\n\n  generateStyles() {\n    this.styles = createStyles(this.props);\n  }\n\n  updateOffset = (animated = false) => {\n    const x = presenter.calcOffset(this.props, this.state);\n\n    if (this.carousel.current) {\n      this.carousel.current.scrollTo({x, animated});\n\n      if (Constants.isAndroid) {\n        // this is done to handle onMomentumScrollEnd not being called in Android:\n        // https://github.com/facebook/react-native/issues/11693\n        // https://github.com/facebook/react-native/issues/19246\n        this.onMomentumScrollEnd();\n      }\n    }\n  };\n\n  goToPage(pageIndex, animated = true) {\n    if (this.props.migrate) {\n      this.carousel.current.goToPage(pageIndex, animated);\n    } else {\n      this.setState({currentPage: pageIndex}, () => this.updateOffset(animated));\n    }\n  }\n\n  onContentSizeChange = () => {\n    if (Constants.isAndroid) {\n      this.updateOffset();\n    }\n  };\n\n  // finished full page scroll\n  onMomentumScrollEnd = () => {\n    const {currentStandingPage, currentPage} = this.state;\n    this.setState({currentStandingPage: currentPage});\n    if (currentStandingPage !== currentPage) {\n      _.invoke(this.props, 'onChangePage', currentPage, currentStandingPage);\n    }\n  };\n\n  onScroll = event => {\n    if (!this.skippedInitialScroll) {\n      this.skippedInitialScroll = true;\n      return;\n    }\n\n    const {loop} = this.props;\n    const offsetX = presenter.getDirectionOffset(event.nativeEvent.contentOffset.x, this.props);\n\n    if (offsetX >= 0) {\n      const newPage = presenter.calcPageIndex(offsetX, this.props);\n\n      this.setState({currentPage: newPage});\n    }\n\n    if (loop && presenter.isOutOfBounds(offsetX, this.props)) {\n      this.updateOffset();\n    }\n\n    _.invoke(this.props, 'onScroll', event);\n  };\n\n  cloneChild(child) {\n    if (!child.key) {\n      return child;\n    }\n\n    return React.cloneElement(child, {\n      key: `${child.key}-clone`\n    });\n  }\n\n  renderChildren() {\n    const {children, loop} = this.props;\n    const length = presenter.getChildrenLength(this.props);\n    const childrenArray = React.Children.toArray(children);\n\n    if (loop) {\n      childrenArray.unshift(this.cloneChild(children[length - 1]));\n      childrenArray.push(this.cloneChild(children[0]));\n    }\n    return childrenArray;\n  }\n\n  render() {\n    if (this.props.migrate) {\n      return <NewCarousel ref={this.carousel} {...this.props}/>;\n    }\n\n    const {containerStyle, ...others} = this.props;\n    const {initialOffset} = this.state;\n\n    return (\n      <ScrollView\n        {...others}\n        ref={this.carousel}\n        style={[containerStyle, {flexGrow: 1}]}\n        horizontal\n        showsHorizontalScrollIndicator={false}\n        pagingEnabled\n        onScroll={this.onScroll}\n        scrollEventThrottle={200}\n        contentOffset={initialOffset}\n        onContentSizeChange={this.onContentSizeChange}\n        onMomentumScrollEnd={this.onMomentumScrollEnd}\n      >\n        {this.renderChildren()}\n      </ScrollView>\n    );\n  }\n}\n\nfunction createStyles() {\n  return StyleSheet.create({});\n}\n"]},"metadata":{},"sourceType":"script"}