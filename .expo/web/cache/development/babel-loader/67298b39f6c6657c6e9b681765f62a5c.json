{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.loadItems = loadItems;\nexports.default = CalendarStateReducer;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar ITEMS_LOADED = 'CalendarState/ITEMS_LOADED';\n\nfunction itemsLoaded(items) {\n  return {\n    type: ITEMS_LOADED,\n    items: items\n  };\n}\n\nvar names = ['Max', 'Philip', 'Alex', 'Irina', 'Vovan'];\n\nvar randomNumber = function randomNumber(min, max) {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n};\n\nvar labels = ['Urgent', 'Interview'];\n\nfunction loadItems(day) {\n  return function (dispatch, getState) {\n    if (getState().calendar.items.length > 0) return;\n    var items = {};\n\n    for (var i = -15; i < 85; i += 1) {\n      var time = day.timestamp + i * 24 * 60 * 60 * 1000;\n      var strTime = new Date(time).toISOString().split('T')[0];\n\n      if (!items[strTime]) {\n        items[strTime] = [];\n        var numItems = randomNumber(0, 5);\n\n        for (var j = 0; j < numItems; j += 1) {\n          items[strTime].push({\n            name: \"Meeting with \" + names[randomNumber(0, 4)],\n            time: randomNumber(0, 24) + \":\" + randomNumber(0, 60),\n            labels: randomNumber(0, 1) ? [labels[randomNumber(0, 1)]] : []\n          });\n        }\n      }\n    }\n\n    var newItems = {};\n    Object.keys(items).forEach(function (key) {\n      newItems[key] = items[key];\n    });\n    dispatch(itemsLoaded(newItems));\n  };\n}\n\nvar defaultState = {\n  items: [],\n  isLoading: false\n};\n\nfunction CalendarStateReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ITEMS_LOADED:\n      return (0, _extends2.default)({}, state, {\n        isLoading: true,\n        items: action.items\n      });\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["E:/react-native-starter-master/react-native-starter-master/src/modules/calendar/CalendarState.js"],"names":["ITEMS_LOADED","itemsLoaded","items","type","names","randomNumber","min","max","Math","floor","random","labels","loadItems","day","dispatch","getState","calendar","length","i","time","timestamp","strTime","Date","toISOString","split","numItems","j","push","name","newItems","Object","keys","forEach","key","defaultState","isLoading","CalendarStateReducer","state","action"],"mappings":";;;;;;;;;;AAAA,IAAMA,YAAY,GAAG,4BAArB;;AAEA,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAC1B,SAAO;AACLC,IAAAA,IAAI,EAAEH,YADD;AAELE,IAAAA,KAAK,EAALA;AAFK,GAAP;AAID;;AAED,IAAME,KAAK,GAAG,CAAC,KAAD,EAAQ,QAAR,EAAkB,MAAlB,EAA0B,OAA1B,EAAmC,OAAnC,CAAd;;AACA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,GAAD,EAAMC,GAAN;AAAA,SACnBC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,MAAiBH,GAAG,GAAGD,GAAN,GAAY,CAA7B,IAAkCA,GAA7C,CADmB;AAAA,CAArB;;AAEA,IAAMK,MAAM,GAAG,CAAC,QAAD,EAAW,WAAX,CAAf;;AAEO,SAASC,SAAT,CAAmBC,GAAnB,EAAwB;AAE7B,SAAO,UAACC,QAAD,EAAWC,QAAX,EAAwB;AAC7B,QAAIA,QAAQ,GAAGC,QAAX,CAAoBd,KAApB,CAA0Be,MAA1B,GAAmC,CAAvC,EAA0C;AAE1C,QAAMf,KAAK,GAAG,EAAd;;AAEA,SAAK,IAAIgB,CAAC,GAAG,CAAC,EAAd,EAAkBA,CAAC,GAAG,EAAtB,EAA0BA,CAAC,IAAI,CAA/B,EAAkC;AAChC,UAAMC,IAAI,GAAGN,GAAG,CAACO,SAAJ,GAAgBF,CAAC,GAAG,EAAJ,GAAS,EAAT,GAAc,EAAd,GAAmB,IAAhD;AACA,UAAMG,OAAO,GAAG,IAAIC,IAAJ,CAASH,IAAT,EAAeI,WAAf,GAA6BC,KAA7B,CAAmC,GAAnC,EAAwC,CAAxC,CAAhB;;AACA,UAAI,CAACtB,KAAK,CAACmB,OAAD,CAAV,EAAqB;AACnBnB,QAAAA,KAAK,CAACmB,OAAD,CAAL,GAAiB,EAAjB;AACA,YAAMI,QAAQ,GAAGpB,YAAY,CAAC,CAAD,EAAI,CAAJ,CAA7B;;AACA,aAAK,IAAIqB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,QAApB,EAA8BC,CAAC,IAAI,CAAnC,EAAsC;AACpCxB,UAAAA,KAAK,CAACmB,OAAD,CAAL,CAAeM,IAAf,CAAoB;AAClBC,YAAAA,IAAI,oBAAkBxB,KAAK,CAACC,YAAY,CAAC,CAAD,EAAI,CAAJ,CAAb,CADT;AAElBc,YAAAA,IAAI,EAAKd,YAAY,CAAC,CAAD,EAAI,EAAJ,CAAjB,SAA4BA,YAAY,CAAC,CAAD,EAAI,EAAJ,CAF1B;AAGlBM,YAAAA,MAAM,EAAEN,YAAY,CAAC,CAAD,EAAI,CAAJ,CAAZ,GAAqB,CAACM,MAAM,CAACN,YAAY,CAAC,CAAD,EAAI,CAAJ,CAAb,CAAP,CAArB,GAAoD;AAH1C,WAApB;AAKD;AACF;AACF;;AAED,QAAMwB,QAAQ,GAAG,EAAjB;AACAC,IAAAA,MAAM,CAACC,IAAP,CAAY7B,KAAZ,EAAmB8B,OAAnB,CAA2B,UAAAC,GAAG,EAAI;AAChCJ,MAAAA,QAAQ,CAACI,GAAD,CAAR,GAAgB/B,KAAK,CAAC+B,GAAD,CAArB;AACD,KAFD;AAIAnB,IAAAA,QAAQ,CAACb,WAAW,CAAC4B,QAAD,CAAZ,CAAR;AACD,GA3BD;AA4BD;;AAED,IAAMK,YAAY,GAAG;AACnBhC,EAAAA,KAAK,EAAE,EADY;AAEnBiC,EAAAA,SAAS,EAAE;AAFQ,CAArB;;AAKe,SAASC,oBAAT,GAA4D;AAAA,MAA9BC,KAA8B,uEAAtBH,YAAsB;AAAA,MAARI,MAAQ;;AACzE,UAAQA,MAAM,CAACnC,IAAf;AACE,SAAKH,YAAL;AACE,aAAO,uBAAc,EAAd,EAAkBqC,KAAlB,EAAyB;AAC9BF,QAAAA,SAAS,EAAE,IADmB;AAE9BjC,QAAAA,KAAK,EAAEoC,MAAM,CAACpC;AAFgB,OAAzB,CAAP;;AAIF;AACE,aAAOmC,KAAP;AAPJ;AASD","sourcesContent":["const ITEMS_LOADED = 'CalendarState/ITEMS_LOADED';\n\nfunction itemsLoaded(items) {\n  return {\n    type: ITEMS_LOADED,\n    items,\n  };\n}\n\nconst names = ['Max', 'Philip', 'Alex', 'Irina', 'Vovan'];\nconst randomNumber = (min, max) =>\n  Math.floor(Math.random() * (max - min + 1) + min);\nconst labels = ['Urgent', 'Interview'];\n\nexport function loadItems(day) {\n  // Do items loading here\n  return (dispatch, getState) => {\n    if (getState().calendar.items.length > 0) return;\n\n    const items = {};\n\n    for (let i = -15; i < 85; i += 1) {\n      const time = day.timestamp + i * 24 * 60 * 60 * 1000;\n      const strTime = new Date(time).toISOString().split('T')[0];\n      if (!items[strTime]) {\n        items[strTime] = [];\n        const numItems = randomNumber(0, 5);\n        for (let j = 0; j < numItems; j += 1) {\n          items[strTime].push({\n            name: `Meeting with ${names[randomNumber(0, 4)]}`,\n            time: `${randomNumber(0, 24)}:${randomNumber(0, 60)}`,\n            labels: randomNumber(0, 1) ? [labels[randomNumber(0, 1)]] : [],\n          });\n        }\n      }\n    }\n\n    const newItems = {};\n    Object.keys(items).forEach(key => {\n      newItems[key] = items[key];\n    });\n\n    dispatch(itemsLoaded(newItems));\n  };\n}\n\nconst defaultState = {\n  items: [],\n  isLoading: false,\n};\n\nexport default function CalendarStateReducer(state = defaultState, action) {\n  switch (action.type) {\n    case ITEMS_LOADED:\n      return Object.assign({}, state, {\n        isLoading: true,\n        items: action.items,\n      });\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"script"}