{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _commons = require(\"../../commons\");\n\nvar _view = _interopRequireDefault(require(\"../view\"));\n\nvar _button = _interopRequireDefault(require(\"../button\"));\n\nvar _text = _interopRequireDefault(require(\"../text\"));\n\nvar _style = require(\"../../style\");\n\nvar _helpers = require(\"../../helpers\");\n\nvar _jsxFileName = \"E:\\\\react-native-starter-master\\\\react-native-starter-master\\\\node_modules\\\\react-native-ui-lib\\\\src\\\\components\\\\tour\\\\index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Tour = function (_BaseComponent) {\n  (0, _inherits2.default)(Tour, _BaseComponent);\n\n  var _super = _createSuper(Tour);\n\n  function Tour(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, Tour);\n    _this = _super.call(this, props);\n    _this.state = {};\n    _this.onTargetLayout = _this.onTargetLayout.bind((0, _assertThisInitialized2.default)(_this));\n    _this.renderTargetClone = _this.renderTargetClone.bind((0, _assertThisInitialized2.default)(_this));\n    return _this;\n  }\n\n  (0, _createClass2.default)(Tour, [{\n    key: \"renderTarget\",\n    value: function renderTarget() {\n      var _this2 = this;\n\n      var target = _react.default.Children.only(this.props.children);\n\n      return _react.default.cloneElement(target, {\n        onLayout: this.onTargetLayout,\n        ref: function ref(r) {\n          return _this2.target = r;\n        }\n      });\n    }\n  }, {\n    key: \"onTargetLayout\",\n    value: function onTargetLayout() {\n      var _this3 = this;\n\n      this.target.measureInWindow(function (x, y, width, height) {\n        _this3.setState({\n          targetPosition: {\n            left: x,\n            top: y,\n            width: width,\n            height: height\n          }\n        });\n      });\n    }\n  }, {\n    key: \"renderTargetClone\",\n    value: function renderTargetClone() {\n      var target = _react.default.Children.only(this.props.children);\n\n      return _react.default.cloneElement(target);\n    }\n  }, {\n    key: \"renderMessage\",\n    value: function renderMessage() {\n      var _this$props = this.props,\n          message = _this$props.message,\n          messageStyle = _this$props.messageStyle,\n          onClose = _this$props.onClose;\n      var targetPosition = this.state.targetPosition;\n      return _react.default.createElement(_view.default, {\n        style: {\n          position: 'absolute',\n          bottom: targetPosition.height,\n          width: _helpers.Constants.screenWidth\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 7\n        }\n      }, _react.default.createElement(_text.default, {\n        style: [styles.message, messageStyle],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }\n      }, message), _react.default.createElement(_button.default, {\n        link: true,\n        label: \"Got It!\",\n        onPress: onClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          visible = _this$props2.visible,\n          overlayColor = _this$props2.overlayColor,\n          overlayOpacity = _this$props2.overlayOpacity;\n      var targetPosition = this.state.targetPosition;\n      var shouldShowTour = visible && !_lodash.default.isUndefined(targetPosition);\n      return _react.default.createElement(_view.default, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 7\n        }\n      }, this.renderTarget(), _react.default.createElement(_reactNative.Modal, {\n        visible: shouldShowTour,\n        animationType: \"fade\",\n        transparent: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 9\n        }\n      }, _react.default.createElement(_view.default, {\n        flex: true,\n        style: {\n          backgroundColor: _style.Colors.rgba(overlayColor, overlayOpacity)\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }\n      }, shouldShowTour && _react.default.createElement(_view.default, {\n        style: {\n          position: 'absolute',\n          top: targetPosition.top,\n          left: targetPosition.left\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 15\n        }\n      }, _react.default.createElement(_view.default, {\n        style: styles.glowWrapper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }\n      }), this.renderTargetClone(), this.renderMessage()))));\n    }\n  }]);\n  return Tour;\n}(_commons.BaseComponent);\n\nTour.propTypes = {\n  visible: _propTypes.default.bool,\n  onClose: _propTypes.default.func,\n  overlayColor: _propTypes.default.string,\n  overlayOpacity: _propTypes.default.number,\n  message: _propTypes.default.string,\n  messageStyle: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.number, _propTypes.default.array])\n};\nTour.defaultProps = {\n  visible: false,\n  overlayColor: _style.Colors.white,\n  overlayOpacity: 0.9\n};\n\nvar styles = _reactNative.StyleSheet.create({\n  message: _objectSpread({\n    color: _style.Colors.white\n  }, _style.Typography.text70),\n  glowWrapper: {\n    backgroundColor: _style.Colors.blue70,\n    position: 'absolute',\n    top: -4,\n    left: -4,\n    right: -4,\n    bottom: -4,\n    borderRadius: 999\n  }\n});\n\nvar _default = Tour;\nexports.default = _default;","map":{"version":3,"sources":["E:/react-native-starter-master/react-native-starter-master/node_modules/react-native-ui-lib/src/components/tour/index.js"],"names":["Tour","props","state","onTargetLayout","bind","renderTargetClone","target","React","Children","only","children","cloneElement","onLayout","ref","r","measureInWindow","x","y","width","height","setState","targetPosition","left","top","message","messageStyle","onClose","position","bottom","Constants","screenWidth","styles","visible","overlayColor","overlayOpacity","shouldShowTour","_","isUndefined","renderTarget","backgroundColor","Colors","rgba","glowWrapper","renderMessage","BaseComponent","propTypes","PropTypes","bool","func","string","number","oneOfType","object","array","defaultProps","white","StyleSheet","create","color","Typography","text70","blue70","right","borderRadius"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {StyleSheet, Modal} from 'react-native';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport {BaseComponent} from '../../commons';\nimport View from '../view';\nimport Button from '../button';\nimport Text from '../text';\nimport {Colors, Typography} from '../../style';\nimport {Constants} from '../../helpers';\n\n/**\n * [WIP] a Tour component for feature discoverability\n */\nclass Tour extends BaseComponent {\n  constructor(props) {\n    super(props);\n\n    this.onTargetLayout = this.onTargetLayout.bind(this);\n    this.renderTargetClone = this.renderTargetClone.bind(this);\n  }\n\n  static propTypes = {\n    /**\n     * Whether to show the tour or not\n     */\n    visible: PropTypes.bool,\n    /**\n     * callback for closing the tour\n     */\n    onClose: PropTypes.func,\n    /**\n     * The overlay background color\n     */\n    overlayColor: PropTypes.string,\n    /**\n     * The overlay opacity\n     */\n    overlayOpacity: PropTypes.number,\n    /**\n     * the message to show next to the target component\n     */\n    message: PropTypes.string,\n    /**\n     * the message custom style\n     */\n    messageStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.array])\n  };\n\n  static defaultProps = {\n    visible: false,\n    overlayColor: Colors.white,\n    overlayOpacity: 0.9\n  };\n\n  state = {};\n\n  renderTarget() {\n    const target = React.Children.only(this.props.children);\n    return React.cloneElement(target, {onLayout: this.onTargetLayout, ref: r => (this.target = r)});\n  }\n\n  onTargetLayout() {\n    this.target.measureInWindow((x, y, width, height) => {\n      this.setState({\n        targetPosition: {\n          left: x,\n          top: y,\n          width,\n          height\n        }\n      });\n    });\n  }\n\n  renderTargetClone() {\n    const target = React.Children.only(this.props.children);\n    return React.cloneElement(target);\n  }\n\n  renderMessage() {\n    const {message, messageStyle, onClose} = this.props;\n    const {targetPosition} = this.state;\n    return (\n      <View style={{position: 'absolute', bottom: targetPosition.height, width: Constants.screenWidth}}>\n        <Text style={[styles.message, messageStyle]}>{message}</Text>\n        <Button link label=\"Got It!\" onPress={onClose}/>\n      </View>\n    );\n  }\n\n  render() {\n    const {visible, overlayColor, overlayOpacity} = this.props;\n    const {targetPosition} = this.state;\n    const shouldShowTour = visible && !_.isUndefined(targetPosition);\n\n    return (\n      <View>\n        {this.renderTarget()}\n        <Modal visible={shouldShowTour} animationType=\"fade\" transparent>\n          <View flex style={{backgroundColor: Colors.rgba(overlayColor, overlayOpacity)}}>\n            {shouldShowTour && (\n              <View style={{position: 'absolute', top: targetPosition.top, left: targetPosition.left}}>\n                <View style={styles.glowWrapper}/>\n                {this.renderTargetClone()}\n                {this.renderMessage()}\n              </View>\n            )}\n          </View>\n        </Modal>\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  message: {\n    color: Colors.white,\n    ...Typography.text70\n  },\n  glowWrapper: {\n    backgroundColor: Colors.blue70,\n    position: 'absolute',\n    top: -4,\n    left: -4,\n    right: -4,\n    bottom: -4,\n    borderRadius: 999\n  }\n});\n\nexport default Tour;\n"]},"metadata":{},"sourceType":"script"}